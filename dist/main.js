"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
;
(function () {
  var lines = document.querySelectorAll(".colors-acco__item");
  for (var index = 0; index < lines.length; index++) {
    var element = lines[index];
    element.addEventListener("click", function (e) {
      e.preventDefault();
      if (e.target.classList.contains("colors-acco__content")) return;
      var currentLine = e.target.closest(".colors-acco__item");
      for (var i = 0; i < lines.length; i++) {
        if (lines[i] !== currentLine) lines[i].classList.remove("colors-acco__item-active");
      }
      if (currentLine.classList.contains("colors-acco__item-active")) {
        currentLine.classList.remove("colors-acco__item-active");
      } else {
        currentLine.classList.add("colors-acco__item-active");
      }
    });
  }
})();
(function () {
  var openElement = document.querySelector(".hamburger");
  var closeElement = document.querySelector(".cross__logo");
  var body = document.body;
  openElement.addEventListener("click", function (e) {
    e.preventDefault();
    var humburgerMenu = document.querySelector("#humburgerMenu");
    humburgerMenu.classList.remove(".hamburger-menu");
    var hamburgerMain = document.querySelector(".hamburger-menu");
    hamburgerMain.classList.toggle("hamburger-main");
  });
  closeElement.addEventListener("click", function (e) {
    e.preventDefault();
    var hamburgerMain = document.querySelector(".hamburger-menu");
    hamburgerMain.classList.remove("hamburger-main");
  });
  humburgerMenu.addEventListener("click", function (e) {
    if (!e.target.classList.contains("hamburger-menu__link")) {
      closeElement.click();
    }
  });
})();
(function () {
  var myMap;
  var init = function init() {
    myMap = new ymaps.Map("yandex-maps", {
      center: [55.751427, 37.617315],
      zoom: 14,
      controls: []
    });
    var coords = [[55.745136, 37.588946], [55.754055, 37.591183], [55.742148, 37.565524]];
    var myCollection = new ymaps.GeoObjectCollection({}, {
      draggable: false,
      iconLayout: 'default#image',
      iconImageHref: "./img/map-marker.png",
      iconImageSize: [30, 42],
      iconImageOffset: [-3, -42]
    });
    coords.forEach(function (coord) {
      myCollection.add(new ymaps.Placemark(coord));
    });
    myMap.geoObjects.add(myCollection);
  };
  ymaps.ready(init);
})();
(function () {
  var validateFields = function validateFields(form, fieldsArray) {
    fieldsArray.forEach(function (field) {
      field.removeClass("input-error");
      if (field.val().trim() === "") {
        field.addClass("input-error");
      }
    });
    var errorFields = form.find(".input-error");
    return errorFields.length === 0;
  };
  $('#form').submit(function (e) {
    e.preventDefault();
    var form = $(e.currentTarget);
    var name = form.find("[name='name']");
    var phone = form.find("[name='phone']");
    var comment = form.find("[name='comment']");
    var to = form.find("[name='to']");
    var modal = $("#modal");
    var content = modal.find(".modal__content");
    modal.removeClass("error-modal");
    var isValid = validateFields(form, [comment, name, phone, to]);
    if (isValid) {
      $.ajax({
        url: "https://webdev-api.loftschool.com/sendmail",
        method: "post",
        data: {
          name: name.val(),
          phone: phone.val(),
          comment: comment.val(),
          to: to.val()
        },
        success: function success(data) {
          content.text(data.message);
          // console.log(data);
          $.fancybox.open({
            src: '#modal',
            type: "inline"
          });
        },
        error: function error(data) {
          // const message = data.responseJSON.messaeg
          // content.text(message);
          // modal.addClass("error-modal");
          content.text('Произошла ошибка, попробуйте снова');
          $.fancybox.open({
            src: '#modal',
            type: "inline"
          });
        }
      });
    }
  });
  $(".app-submit-btn").click(function (e) {
    e.preventDefault();
    $.fancybox.close();
  });
})();
(function () {
  var sections = $("section");
  var display = $(".main-content");
  var sideMenu = $(".fixed-menu");
  var menuItems = sideMenu.find("fixed-menu__item");
  var mobileDetect = new MobileDetect(window.navigator.userAgent);
  var isMobile = mobileDetect.mobile();
  var inScroll = false;
  sections.first().addClass("active");
  var countSectionPosition = function countSectionPosition(sectionsEq) {
    return sectionsEq * -100;
  };
  var resetActiveClassForItem = function resetActiveClassForItem(item, itemEq, activeClass) {
    item.eq(itemEq).addClass(activeClass).siblings().removeClass(activeClass);
  };
  var performTransition = function performTransition(sectionsEq) {
    if (inScroll == false) {
      inScroll = true;
      var position = countSectionPosition(sectionsEq);
      display.css({
        transform: "translateY(".concat(position, "%)")
      });
      resetActiveClassForItem(sections, sectionsEq, "active");
      // sections.eq(sectionsEq).addClass("active").siblings().removeClass("active");	
      setTimeout(function () {
        inScroll = false;
        resetActiveClassForItem(menuItems, sectionsEq, "fixed-menu__item--active");
        sideMenu.find(".fixed-menu__item").eq(sectionsEq).addClass("fixed-menu__item--active").siblings().removeClass("fixed-menu__item--active");
      }, 1300);
    }
  };
  var scrollViewport = function scrollViewport(direction) {
    var activeSection = sections.filter(".active");
    var nextSection = activeSection.next();
    var prevSection = activeSection.prev();
    if (direction == "next" && nextSection.length) {
      performTransition(nextSection.index());
    }
    if (direction == "prev" && prevSection.length) {
      performTransition(prevSection.index());
    }
  };
  $(window).on("wheel", function (e) {
    var deltaY = e.originalEvent.deltaY;
    if (deltaY > 0) {
      scrollViewport("next");
    }
    if (deltaY < 0) {
      scrollViewport("prev");
    }
  });
  $(window).on("keydown", function (e) {
    var tagName = e.target.tagName.toLowerCase();
    if (tagName !== "input" && tagName !== "textarea") {
      switch (e.keyCode) {
        case 38:
          scrollViewport("prev");
          break;
        case 40:
          scrollViewport("next");
          break;
      }
    }
  });
  $(".wrapper").on("touchemove", function (e) {
    return e.preventDefault();
  });
  $("[data-scroll-to]").click(function (e) {
    e.preventDefault();
    var $this = $(e.currentTarget);
    var target = $this.attr("data-scroll-to");
    var reqSection = $("[data-section-id=".concat(target, "]"));
    performTransition(reqSection.index());
    console.log(reqSection.index());
  });
  if (isMobile) {
    $("body").swipe({
      swipe: function swipe(event, direction) {
        var scroller = viewportScroller();
        var scrollDirection = "";
        if (direction === "up") scrollDirection = "next";
        if (direction === "down") scrollDirection = "prev";
        scroller[scrollDirection]();
      }
    });
  }
})();
var player;
var playerContainer = $(".player");
var iventsInit = function iventsInit() {
  $(".player__start").click(function (e) {
    e.preventDefault();
    if (playerContainer.hasClass("paused")) {
      player.pauseVideo();
    } else {
      player.playVideo();
    }
  });
  $(".player__playback").click(function (e) {
    var bar = $(e.currentTarget);
    var clickedPosition = e.originalEvent.layerX;
    var newButtonPositionPercent = clickedPosition / bar.width() * 100;
    var newPlayerBackPositionSec = player.getDuration() / 100 * newButtonPositionPercent;
    $(".player__playback-button").css({
      left: "".concat(newButtonPositionPercent, "%")
    });
    player.seekTo(newPlayerBackPositionSec);
  });
  $(".player__splash").click(function (e) {
    player.playVideo();
  });
};
var formatTime = function formatTime(timeSec) {
  var roundTime = Math.round(timeSec);
  var minutes = addZero(Math.floor(roundTime / 60));
  var seconds = addZero(roundTime - minutes * 60);
  function addZero(num) {
    return num < 10 ? "0".concat(num) : num;
  }
  return "".concat(minutes, " : ").concat(seconds);
};
var onPlayerReady = function onPlayerReady() {
  var interval;
  var durationSec = player.getDuration();
  $(".player__duration-estimate").text(formatTime(durationSec));
  if (typeof interval !== 'undefined') {
    clearInterval(interval);
  }
  interval = setInterval(function () {
    var completedSec = player.getCurrentTime();
    var complitedPercent = completedSec / durationSec * 100;
    $(".player__playback-button").css({
      left: "".concat(complitedPercent, "%")
    });
    $(".player__duration-completed").text(formatTime(completedSec));
  }, 1000);
};
var onPlayerStateChange = function onPlayerStateChange(event) {
  switch (event.data) {
    case 1:
      playerContainer.addClass("active");
      playerContainer.addClass("paused");
      break;
    case 2:
      playerContainer.removeClass("active");
      playerContainer.removeClass("paused");
      break;
  }
};
function onYouTubeIframeAPIReady() {
  console.log('onYouTubeIframeAPIReady');
  player = new YT.Player('yt-player', _defineProperty({
    height: '405',
    width: '660',
    videoId: 'hk3KPa6zWzo',
    playerVars: {
      'playsinline': 1
    },
    events: {
      'onReady': onPlayerReady,
      'onStateChange': onPlayerStateChange
    }
  }, "playerVars", {
    controls: 0,
    disablekb: 0,
    showinfo: 0,
    rel: 0,
    autoplay: 0,
    modestbranding: 0
  }));
}
iventsInit();

// ;(function() {

// })()
;
(function () {
  var findBlockByAlias = function findBlockByAlias(alias) {
    return $(".reviews__item").filter(function (ndx, item) {
      return $(item).attr("data-linked-with") == alias;
    });
  };
  $(".interactive-avatar__link").click(function (e) {
    e.preventDefault();
    var $this = $(e.currentTarget);
    var target = $this.attr("data-open");
    var itemToShow = findBlockByAlias(target);
    var curItem = $this.closest(".reviews__switcher-item");
    itemToShow.addClass("active").siblings().removeClass("active");
    curItem.addClass("active").siblings().removeClass("active");
  });
})();
(function () {
  var left = document.querySelector("#arrow--prew");
  var right = document.querySelector("#arrow--next");
  var itemList = document.querySelector("#slider__list");
  var loop = function loop(direction, e) {
    e.preventDefault();
    if (direction == "right") {
      itemList.appendChild(itemList.firstElementChild);
    } else {
      itemList.insertBefore(itemList.lastElementChild, slider__list.firstElementChild);
    }
  };
  right.addEventListener("click", function (e) {
    loop("right", e);
  });
  left.addEventListener("click", function (e) {
    loop("left", e);
  });
})();
(function () {
  /////////////////////////////////////////////
  // TEAM
  /////////////////////////////////////////////

  var openItem = function openItem(item) {
    var container = item.closest(".team__item");
    var contentBlock = container.find(".team__content");
    var textBlock = contentBlock.find(".team__content-block");
    var reqHeight = textBlock.height();
    container.addClass("active");
    contentBlock.height(reqHeight);
  };
  var closeEveryItem = function closeEveryItem(container) {
    var items = container.find(".team__content");
    var itemContainer = container.find(".team__item");
    itemContainer.removeClass("active");
    items.height(0);
  };
  $(".team__tiltle").click(function (e) {
    var $this = $(e.currentTarget);
    var container = $this.closest(".team");
    var elemContainer = $this.closest(".team__item");
    if (elemContainer.hasClass("active")) {
      closeEveryItem(container);
    } else {
      closeEveryItem(container);
      openItem($this);
    }
  });
})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY28uanMiLCJoYW1idXJnZXIuanMiLCJtYXAuanMiLCJtb2RhbC5qcyIsIm9wcy5qcyIsInBsYXllci5qcyIsInJldmlld3MuanMiLCJzbGlkZXIuanMiLCJ0ZWFtLmpzIl0sIm5hbWVzIjpbImxpbmVzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5kZXgiLCJsZW5ndGgiLCJlbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInRhcmdldCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiY3VycmVudExpbmUiLCJjbG9zZXN0IiwiaSIsInJlbW92ZSIsImFkZCIsIm9wZW5FbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImNsb3NlRWxlbWVudCIsImJvZHkiLCJodW1idXJnZXJNZW51IiwiaGFtYnVyZ2VyTWFpbiIsInRvZ2dsZSIsImNsaWNrIiwibXlNYXAiLCJpbml0IiwieW1hcHMiLCJNYXAiLCJjZW50ZXIiLCJ6b29tIiwiY29udHJvbHMiLCJjb29yZHMiLCJteUNvbGxlY3Rpb24iLCJHZW9PYmplY3RDb2xsZWN0aW9uIiwiZHJhZ2dhYmxlIiwiaWNvbkxheW91dCIsImljb25JbWFnZUhyZWYiLCJpY29uSW1hZ2VTaXplIiwiaWNvbkltYWdlT2Zmc2V0IiwiZm9yRWFjaCIsImNvb3JkIiwiUGxhY2VtYXJrIiwiZ2VvT2JqZWN0cyIsInJlYWR5IiwidmFsaWRhdGVGaWVsZHMiLCJmb3JtIiwiZmllbGRzQXJyYXkiLCJmaWVsZCIsInJlbW92ZUNsYXNzIiwidmFsIiwidHJpbSIsImFkZENsYXNzIiwiZXJyb3JGaWVsZHMiLCJmaW5kIiwiJCIsInN1Ym1pdCIsImN1cnJlbnRUYXJnZXQiLCJuYW1lIiwicGhvbmUiLCJjb21tZW50IiwidG8iLCJtb2RhbCIsImNvbnRlbnQiLCJpc1ZhbGlkIiwiYWpheCIsInVybCIsIm1ldGhvZCIsImRhdGEiLCJzdWNjZXNzIiwidGV4dCIsIm1lc3NhZ2UiLCJmYW5jeWJveCIsIm9wZW4iLCJzcmMiLCJ0eXBlIiwiZXJyb3IiLCJjbG9zZSIsInNlY3Rpb25zIiwiZGlzcGxheSIsInNpZGVNZW51IiwibWVudUl0ZW1zIiwibW9iaWxlRGV0ZWN0IiwiTW9iaWxlRGV0ZWN0Iiwid2luZG93IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaXNNb2JpbGUiLCJtb2JpbGUiLCJpblNjcm9sbCIsImZpcnN0IiwiY291bnRTZWN0aW9uUG9zaXRpb24iLCJzZWN0aW9uc0VxIiwicmVzZXRBY3RpdmVDbGFzc0Zvckl0ZW0iLCJpdGVtIiwiaXRlbUVxIiwiYWN0aXZlQ2xhc3MiLCJlcSIsInNpYmxpbmdzIiwicGVyZm9ybVRyYW5zaXRpb24iLCJwb3NpdGlvbiIsImNzcyIsInRyYW5zZm9ybSIsInNldFRpbWVvdXQiLCJzY3JvbGxWaWV3cG9ydCIsImRpcmVjdGlvbiIsImFjdGl2ZVNlY3Rpb24iLCJmaWx0ZXIiLCJuZXh0U2VjdGlvbiIsIm5leHQiLCJwcmV2U2VjdGlvbiIsInByZXYiLCJvbiIsImRlbHRhWSIsIm9yaWdpbmFsRXZlbnQiLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiLCJrZXlDb2RlIiwiJHRoaXMiLCJhdHRyIiwicmVxU2VjdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJzd2lwZSIsImV2ZW50Iiwic2Nyb2xsZXIiLCJ2aWV3cG9ydFNjcm9sbGVyIiwic2Nyb2xsRGlyZWN0aW9uIiwicGxheWVyIiwicGxheWVyQ29udGFpbmVyIiwiaXZlbnRzSW5pdCIsImhhc0NsYXNzIiwicGF1c2VWaWRlbyIsInBsYXlWaWRlbyIsImJhciIsImNsaWNrZWRQb3NpdGlvbiIsImxheWVyWCIsIm5ld0J1dHRvblBvc2l0aW9uUGVyY2VudCIsIndpZHRoIiwibmV3UGxheWVyQmFja1Bvc2l0aW9uU2VjIiwiZ2V0RHVyYXRpb24iLCJsZWZ0Iiwic2Vla1RvIiwiZm9ybWF0VGltZSIsInRpbWVTZWMiLCJyb3VuZFRpbWUiLCJNYXRoIiwicm91bmQiLCJtaW51dGVzIiwiYWRkWmVybyIsImZsb29yIiwic2Vjb25kcyIsIm51bSIsIm9uUGxheWVyUmVhZHkiLCJpbnRlcnZhbCIsImR1cmF0aW9uU2VjIiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwiY29tcGxldGVkU2VjIiwiZ2V0Q3VycmVudFRpbWUiLCJjb21wbGl0ZWRQZXJjZW50Iiwib25QbGF5ZXJTdGF0ZUNoYW5nZSIsIm9uWW91VHViZUlmcmFtZUFQSVJlYWR5IiwiWVQiLCJQbGF5ZXIiLCJoZWlnaHQiLCJ2aWRlb0lkIiwicGxheWVyVmFycyIsImV2ZW50cyIsImRpc2FibGVrYiIsInNob3dpbmZvIiwicmVsIiwiYXV0b3BsYXkiLCJtb2Rlc3RicmFuZGluZyIsImZpbmRCbG9ja0J5QWxpYXMiLCJhbGlhcyIsIm5keCIsIml0ZW1Ub1Nob3ciLCJjdXJJdGVtIiwicmlnaHQiLCJpdGVtTGlzdCIsImxvb3AiLCJhcHBlbmRDaGlsZCIsImZpcnN0RWxlbWVudENoaWxkIiwiaW5zZXJ0QmVmb3JlIiwibGFzdEVsZW1lbnRDaGlsZCIsInNsaWRlcl9fbGlzdCIsIm9wZW5JdGVtIiwiY29udGFpbmVyIiwiY29udGVudEJsb2NrIiwidGV4dEJsb2NrIiwicmVxSGVpZ2h0IiwiY2xvc2VFdmVyeUl0ZW0iLCJpdGVtcyIsIml0ZW1Db250YWluZXIiLCJlbGVtQ29udGFpbmVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUFBLENBQUEsWUFBQTtFQUNBLElBQUFBLEtBQUEsR0FBQUMsUUFBQSxDQUFBQyxnQkFBQSxDQUFBLG9CQUFBLENBQUE7RUFFQSxLQUFBLElBQUFDLEtBQUEsR0FBQSxDQUFBLEVBQUFBLEtBQUEsR0FBQUgsS0FBQSxDQUFBSSxNQUFBLEVBQUFELEtBQUEsRUFBQSxFQUFBO0lBQ0EsSUFBQUUsT0FBQSxHQUFBTCxLQUFBLENBQUFHLEtBQUEsQ0FBQTtJQUNBRSxPQUFBLENBQUFDLGdCQUFBLENBQUEsT0FBQSxFQUFBLFVBQUFDLENBQUEsRUFBQTtNQUNBQSxDQUFBLENBQUFDLGNBQUEsRUFBQTtNQUNBLElBQUFELENBQUEsQ0FBQUUsTUFBQSxDQUFBQyxTQUFBLENBQUFDLFFBQUEsQ0FBQSxzQkFBQSxDQUFBLEVBQUE7TUFDQSxJQUFBQyxXQUFBLEdBQUFMLENBQUEsQ0FBQUUsTUFBQSxDQUFBSSxPQUFBLENBQUEsb0JBQUEsQ0FBQTtNQUVBLEtBQUEsSUFBQUMsQ0FBQSxHQUFBLENBQUEsRUFBQUEsQ0FBQSxHQUFBZCxLQUFBLENBQUFJLE1BQUEsRUFBQVUsQ0FBQSxFQUFBLEVBQUE7UUFDQSxJQUFBZCxLQUFBLENBQUFjLENBQUEsQ0FBQSxLQUFBRixXQUFBLEVBQ0FaLEtBQUEsQ0FBQWMsQ0FBQSxDQUFBLENBQUFKLFNBQUEsQ0FBQUssTUFBQSxDQUFBLDBCQUFBLENBQUE7TUFDQTtNQUVBLElBQUFILFdBQUEsQ0FBQUYsU0FBQSxDQUFBQyxRQUFBLENBQUEsMEJBQUEsQ0FBQSxFQUFBO1FBQ0FDLFdBQUEsQ0FBQUYsU0FBQSxDQUFBSyxNQUFBLENBQUEsMEJBQUEsQ0FBQTtNQUNBLENBQUEsTUFBQTtRQUNBSCxXQUFBLENBQUFGLFNBQUEsQ0FBQU0sR0FBQSxDQUFBLDBCQUFBLENBQUE7TUFDQTtJQUNBLENBQUEsQ0FBQTtFQUNBO0FBQ0EsQ0FBQSxHQUFBO0FDdEJBLENBQUEsWUFBQTtFQUNBLElBQUFDLFdBQUEsR0FBQWhCLFFBQUEsQ0FBQWlCLGFBQUEsQ0FBQSxZQUFBLENBQUE7RUFDQSxJQUFBQyxZQUFBLEdBQUFsQixRQUFBLENBQUFpQixhQUFBLENBQUEsY0FBQSxDQUFBO0VBQ0EsSUFBQUUsSUFBQSxHQUFBbkIsUUFBQSxDQUFBbUIsSUFBQTtFQUVBSCxXQUFBLENBQUFYLGdCQUFBLENBQUEsT0FBQSxFQUFBLFVBQUFDLENBQUEsRUFBQTtJQUNBQSxDQUFBLENBQUFDLGNBQUEsRUFBQTtJQUVBLElBQUFhLGFBQUEsR0FBQXBCLFFBQUEsQ0FBQWlCLGFBQUEsQ0FBQSxnQkFBQSxDQUFBO0lBQ0FHLGFBQUEsQ0FBQVgsU0FBQSxDQUFBSyxNQUFBLENBQUEsaUJBQUEsQ0FBQTtJQUVBLElBQUFPLGFBQUEsR0FBQXJCLFFBQUEsQ0FBQWlCLGFBQUEsQ0FBQSxpQkFBQSxDQUFBO0lBQ0FJLGFBQUEsQ0FBQVosU0FBQSxDQUFBYSxNQUFBLENBQUEsZ0JBQUEsQ0FBQTtFQUNBLENBQUEsQ0FBQTtFQUVBSixZQUFBLENBQUFiLGdCQUFBLENBQUEsT0FBQSxFQUFBLFVBQUFDLENBQUEsRUFBQTtJQUNBQSxDQUFBLENBQUFDLGNBQUEsRUFBQTtJQUVBLElBQUFjLGFBQUEsR0FBQXJCLFFBQUEsQ0FBQWlCLGFBQUEsQ0FBQSxpQkFBQSxDQUFBO0lBQ0FJLGFBQUEsQ0FBQVosU0FBQSxDQUFBSyxNQUFBLENBQUEsZ0JBQUEsQ0FBQTtFQUNBLENBQUEsQ0FBQTtFQUdBTSxhQUFBLENBQUFmLGdCQUFBLENBQUEsT0FBQSxFQUFBLFVBQUFDLENBQUEsRUFBQTtJQUNBLElBQUEsQ0FBQUEsQ0FBQSxDQUFBRSxNQUFBLENBQUFDLFNBQUEsQ0FBQUMsUUFBQSxDQUFBLHNCQUFBLENBQUEsRUFBQTtNQUNBUSxZQUFBLENBQUFLLEtBQUEsRUFBQTtJQUNBO0VBQ0EsQ0FBQSxDQUFBO0FBQ0EsQ0FBQSxHQUFBO0FDNUJBLENBQUEsWUFBQTtFQUNBLElBQUFDLEtBQUE7RUFDQSxJQUFBQyxJQUFBLEdBQUEsU0FBQUEsSUFBQSxHQUFBO0lBQ0FELEtBQUEsR0FBQSxJQUFBRSxLQUFBLENBQUFDLEdBQUEsQ0FBQSxhQUFBLEVBQUE7TUFDQUMsTUFBQSxFQUFBLENBQUEsU0FBQSxFQUFBLFNBQUEsQ0FBQTtNQUNBQyxJQUFBLEVBQUEsRUFBQTtNQUNBQyxRQUFBLEVBQUE7SUFDQSxDQUFBLENBQUE7SUFFQSxJQUFBQyxNQUFBLEdBQUEsQ0FDQSxDQUFBLFNBQUEsRUFBQSxTQUFBLENBQUEsRUFDQSxDQUFBLFNBQUEsRUFBQSxTQUFBLENBQUEsRUFDQSxDQUFBLFNBQUEsRUFBQSxTQUFBLENBQUEsQ0FDQTtJQUVBLElBQUFDLFlBQUEsR0FBQSxJQUFBTixLQUFBLENBQUFPLG1CQUFBLENBQUEsQ0FBQSxDQUFBLEVBQUE7TUFDQUMsU0FB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Q0FBQSxDQUFBL0IsS0FBQSxDQUFBLFVBQUFqQixDQUFBLEVBQUE7SUFDQSxJQUFBK0csS0FBQSxHQUFBL0QsQ0FBQSxDQUFBaEQsQ0FBQSxDQUFBa0QsYUFBQSxDQUFBO0lBQ0EsSUFBQW1JLFNBQUEsR0FBQXRFLEtBQUEsQ0FBQXpHLE9BQUEsQ0FBQSxPQUFBLENBQUE7SUFDQSxJQUFBc0wsYUFBQSxHQUFBN0UsS0FBQSxDQUFBekcsT0FBQSxDQUFBLGFBQUEsQ0FBQTtJQUdBLElBQUFzTCxhQUFBLENBQUFoRSxRQUFBLENBQUEsUUFBQSxDQUFBLEVBQUE7TUFDQTZELGNBQUEsQ0FBQUosU0FBQSxDQUFBO0lBQ0EsQ0FBQSxNQUFBO01BQ0FJLGNBQUEsQ0FBQUosU0FBQSxDQUFBO01BQ0FELFFBQUEsQ0FBQXJFLEtBQUEsQ0FBQTtJQUNBO0VBR0EsQ0FBQSxDQUFBO0FBRUEsQ0FBQSxHQUFBIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyI7KGZ1bmN0aW9uKCkge1xuXHRjb25zdCBsaW5lcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY29sb3JzLWFjY29fX2l0ZW1cIik7XG5cblx0Zm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGxpbmVzLmxlbmd0aDsgaW5kZXgrKykge1xuXHRcdGNvbnN0IGVsZW1lbnQgPSBsaW5lc1tpbmRleF1cblx0XHRlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlID0+IHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJjb2xvcnMtYWNjb19fY29udGVudFwiKSkgcmV0dXJuXG5cdFx0XHRjb25zdCBjdXJyZW50TGluZSA9IGUudGFyZ2V0LmNsb3Nlc3QoXCIuY29sb3JzLWFjY29fX2l0ZW1cIik7XG5cdFxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAobGluZXNbaV0gIT09IGN1cnJlbnRMaW5lKVxuXHRcdFx0XHRsaW5lc1tpXS5jbGFzc0xpc3QucmVtb3ZlKFwiY29sb3JzLWFjY29fX2l0ZW0tYWN0aXZlXCIpXG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKGN1cnJlbnRMaW5lLmNsYXNzTGlzdC5jb250YWlucyhcImNvbG9ycy1hY2NvX19pdGVtLWFjdGl2ZVwiKSkge1xuXHRcdFx0XHRjdXJyZW50TGluZS5jbGFzc0xpc3QucmVtb3ZlKFwiY29sb3JzLWFjY29fX2l0ZW0tYWN0aXZlXCIpXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjdXJyZW50TGluZS5jbGFzc0xpc3QuYWRkKFwiY29sb3JzLWFjY29fX2l0ZW0tYWN0aXZlXCIpO1xuXHRcdFx0fVxuXHRcdH0pXG5cdH1cbn0pKCkiLCI7KGZ1bmN0aW9uKCkge1xuXHRjb25zdCBvcGVuRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGFtYnVyZ2VyXCIpO1xuXHRjb25zdCBjbG9zZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNyb3NzX19sb2dvXCIpO1xuXHRjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcblx0XG5cdG9wZW5FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlID0+IHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHRcdHZhciBodW1idXJnZXJNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNodW1idXJnZXJNZW51XCIpXG5cdFx0aHVtYnVyZ2VyTWVudS5jbGFzc0xpc3QucmVtb3ZlKFwiLmhhbWJ1cmdlci1tZW51XCIpXG5cdFx0XG5cdFx0dmFyIGhhbWJ1cmdlck1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhhbWJ1cmdlci1tZW51XCIpO1xuXHRcdGhhbWJ1cmdlck1haW4uY2xhc3NMaXN0LnRvZ2dsZShcImhhbWJ1cmdlci1tYWluXCIpO1xuXHR9KTtcblx0XG5cdGNsb3NlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcblx0XHR2YXIgaGFtYnVyZ2VyTWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGFtYnVyZ2VyLW1lbnVcIik7XG5cdFx0aGFtYnVyZ2VyTWFpbi5jbGFzc0xpc3QucmVtb3ZlKFwiaGFtYnVyZ2VyLW1haW5cIik7XG5cdH0pO1xuXHRcblx0XG5cdGh1bWJ1cmdlck1lbnUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xuXHRcdGlmKCFlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJoYW1idXJnZXItbWVudV9fbGlua1wiKSkge1xuXHRcdFx0Y2xvc2VFbGVtZW50LmNsaWNrKCk7XG5cdFx0fVxuXHR9KTtcbn0pKClcblxuXG4iLCI7KGZ1bmN0aW9uKCkge1xuXHRsZXQgbXlNYXA7XG5cdGNvbnN0IGluaXQgPSAoKSA9PiB7XG5cdFx0bXlNYXAgPSBuZXcgeW1hcHMuTWFwKFwieWFuZGV4LW1hcHNcIiwge1xuXHRcdFx0Y2VudGVyOiBbNTUuNzUxNDI3LCAzNy42MTczMTVdLFxuXHRcdFx0em9vbTogMTQsXG5cdFx0XHRjb250cm9sczogW11cblx0XHR9KTtcblx0XG5cdFx0Y29uc3QgY29vcmRzID0gW1xuXHRcdFx0WzU1Ljc0NTEzNiwgMzcuNTg4OTQ2XSxcblx0XHRcdFs1NS43NTQwNTUsIDM3LjU5MTE4M10sXG5cdFx0XHRbNTUuNzQyMTQ4LCAzNy41NjU1MjRdLFxuXHRcdF07XG5cdFxuXHRcdGNvbnN0IG15Q29sbGVjdGlvbiA9IG5ldyB5bWFwcy5HZW9PYmplY3RDb2xsZWN0aW9uKHt9LCB7XG5cdFx0XHRkcmFnZ2FibGU6IGZhbHNlLFxuXHRcdFx0aWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLFxuXHRcdFx0aWNvbkltYWdlSHJlZjogXCIuL2ltZy9tYXAtbWFya2VyLnBuZ1wiLFxuXHRcdFx0aWNvbkltYWdlU2l6ZTogWzMwLCA0Ml0sXG5cdFx0XHRpY29uSW1hZ2VPZmZzZXQ6IFstMywgLTQyXVxuXHRcdH0pO1xuXHRcblx0XHRjb29yZHMuZm9yRWFjaChjb29yZCA9PiB7XG5cdFx0XHRteUNvbGxlY3Rpb24uYWRkKG5ldyB5bWFwcy5QbGFjZW1hcmsoY29vcmQpKTtcblx0XHR9KTtcblx0XG5cdFx0bXlNYXAuZ2VvT2JqZWN0cy5hZGQobXlDb2xsZWN0aW9uKTtcblx0XG5cdH0gXG5cdFxuXHR5bWFwcy5yZWFkeShpbml0KTtcblx0XG59KSgpIiwiOyhmdW5jdGlvbigpIHtcblx0Y29uc3QgdmFsaWRhdGVGaWVsZHMgPSAoZm9ybSwgZmllbGRzQXJyYXkpID0+IHtcblxuXHRcdGZpZWxkc0FycmF5LmZvckVhY2goZmllbGQgPT4ge1xuXHRcdFx0ZmllbGQucmVtb3ZlQ2xhc3MoXCJpbnB1dC1lcnJvclwiKVxuXHRcdFx0aWYgKGZpZWxkLnZhbCgpLnRyaW0oKSA9PT0gXCJcIikge1xuXHRcdFx0XHRmaWVsZC5hZGRDbGFzcyhcImlucHV0LWVycm9yXCIpXG5cdFx0XHR9XG5cdFx0XHRcblx0XHR9KTtcblx0XG5cdFx0Y29uc3QgZXJyb3JGaWVsZHMgPSBmb3JtLmZpbmQoXCIuaW5wdXQtZXJyb3JcIik7XG5cdFxuXHRcdHJldHVybiBlcnJvckZpZWxkcy5sZW5ndGggPT09IDA7XG5cdFxuXHR9XG5cdFxuXHQkKCcjZm9ybScpLnN1Ym1pdChlID0+IHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHRcdGNvbnN0IGZvcm0gPSAkKGUuY3VycmVudFRhcmdldCk7XG5cdFx0Y29uc3QgbmFtZSA9IGZvcm0uZmluZChcIltuYW1lPSduYW1lJ11cIik7XG5cdFx0Y29uc3QgcGhvbmUgPSBmb3JtLmZpbmQoXCJbbmFtZT0ncGhvbmUnXVwiKTtcblx0XHRjb25zdCBjb21tZW50ID0gZm9ybS5maW5kKFwiW25hbWU9J2NvbW1lbnQnXVwiKTtcblx0XHRjb25zdCB0byA9IGZvcm0uZmluZChcIltuYW1lPSd0byddXCIpO1xuXHRcblx0XHRjb25zdCBtb2RhbCA9ICQoXCIjbW9kYWxcIik7XG5cdFx0Y29uc3QgY29udGVudCA9IG1vZGFsLmZpbmQoXCIubW9kYWxfX2NvbnRlbnRcIik7XG5cdFxuXHRcdG1vZGFsLnJlbW92ZUNsYXNzKFwiZXJyb3ItbW9kYWxcIik7XG5cdFxuXHRcdGNvbnN0IGlzVmFsaWQgPSB2YWxpZGF0ZUZpZWxkcyhmb3JtLCBbY29tbWVudCwgbmFtZSwgcGhvbmUsICB0b10pO1xuXHRcblx0XHRpZiAoaXNWYWxpZCkge1xuXHRcdFx0JC5hamF4KHtcblx0XHRcdFx0dXJsOiBcImh0dHBzOi8vd2ViZGV2LWFwaS5sb2Z0c2Nob29sLmNvbS9zZW5kbWFpbFwiLFxuXHRcdFx0XHRtZXRob2Q6IFwicG9zdFwiLFxuXHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdG5hbWU6IG5hbWUudmFsKCksXG5cdFx0XHRcdHBob25lOiBwaG9uZS52YWwoKSxcblx0XHRcdFx0Y29tbWVudDogY29tbWVudC52YWwoKSxcblx0XHRcdFx0dG86IHRvLnZhbCgpLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRzdWNjZXNzOiAoZGF0YSkgPT4ge1xuXHRcdFx0XHRcdGNvbnRlbnQudGV4dChkYXRhLm1lc3NhZ2UpXG5cdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coZGF0YSk7XG5cdFx0XHRcdFx0JC5mYW5jeWJveC5vcGVuKHtcblx0XHRcdFx0XHRcdHNyYzogJyNtb2RhbCcsXG5cdFx0XHRcdFx0XHR0eXBlOiBcImlubGluZVwiXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGVycm9yOiBkYXRhID0+IHtcblx0XHRcdFx0XHQvLyBjb25zdCBtZXNzYWdlID0gZGF0YS5yZXNwb25zZUpTT04ubWVzc2FlZ1xuXHRcdFx0XHRcdC8vIGNvbnRlbnQudGV4dChtZXNzYWdlKTtcblx0XHRcdFx0XHQvLyBtb2RhbC5hZGRDbGFzcyhcImVycm9yLW1vZGFsXCIpO1xuXHRcdFx0XHRcdGNvbnRlbnQudGV4dCgn0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCwg0L/QvtC/0YDQvtCx0YPQudGC0LUg0YHQvdC+0LLQsCcpXG5cdFxuXHRcdFx0XHRcdCQuZmFuY3lib3gub3Blbih7XG5cdFx0XHRcdFx0XHRzcmM6ICcjbW9kYWwnLFxuXHRcdFx0XHRcdFx0dHlwZTogXCJpbmxpbmVcIlxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdFxuXHR9KTsgXG5cdFxuXHQkKFwiLmFwcC1zdWJtaXQtYnRuXCIpLmNsaWNrKCBlID0+IHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHRcdCQuZmFuY3lib3guY2xvc2UoKTtcblx0fSlcblx0XG59KSgpIiwiOyhmdW5jdGlvbigpIHtcblx0Y29uc3Qgc2VjdGlvbnMgPSAkKFwic2VjdGlvblwiKTtcblx0Y29uc3QgZGlzcGxheSA9ICQoXCIubWFpbi1jb250ZW50XCIpO1xuXHRjb25zdCBzaWRlTWVudSA9ICQoXCIuZml4ZWQtbWVudVwiKTtcblx0Y29uc3QgbWVudUl0ZW1zID0gc2lkZU1lbnUuZmluZChcImZpeGVkLW1lbnVfX2l0ZW1cIik7XG5cdGNvbnN0IG1vYmlsZURldGVjdCA9IG5ldyBNb2JpbGVEZXRlY3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xuXHRjb25zdCBpc01vYmlsZSA9IG1vYmlsZURldGVjdC5tb2JpbGUoKTtcblx0XG5cdGxldCBpblNjcm9sbCA9IGZhbHNlO1xuXHRcblx0c2VjdGlvbnMuZmlyc3QoKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcblx0XG5cdGNvbnN0IGNvdW50U2VjdGlvblBvc2l0aW9uID0gc2VjdGlvbnNFcSA9PiB7XG5cdFx0cmV0dXJuIHNlY3Rpb25zRXEgKiAtMTAwO1xuXHR9XG5cdFxuXHRjb25zdCByZXNldEFjdGl2ZUNsYXNzRm9ySXRlbSA9IChpdGVtLCBpdGVtRXEsIGFjdGl2ZUNsYXNzKSA9PiB7XG5cdFx0aXRlbS5lcShpdGVtRXEpLmFkZENsYXNzKGFjdGl2ZUNsYXNzKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKGFjdGl2ZUNsYXNzKTtcblx0fVxuXHRcblx0Y29uc3QgcGVyZm9ybVRyYW5zaXRpb24gPSBzZWN0aW9uc0VxID0+IHtcblx0XG5cdFx0aWYgKGluU2Nyb2xsID09IGZhbHNlKSB7XG5cdFx0XHRcblx0XHRcdGluU2Nyb2xsID0gdHJ1ZTtcblx0XHRcdGNvbnN0IHBvc2l0aW9uID0gY291bnRTZWN0aW9uUG9zaXRpb24oc2VjdGlvbnNFcSk7XG5cdFxuXHRcblx0XG5cdFx0XHRkaXNwbGF5LmNzcyh7XG5cdFx0XHRcdHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoJHtwb3NpdGlvbn0lKWBcblx0XHRcdH0pO1xuXHRcblx0XHRcdHJlc2V0QWN0aXZlQ2xhc3NGb3JJdGVtKHNlY3Rpb25zLCBzZWN0aW9uc0VxLCBcImFjdGl2ZVwiKTtcblx0XHRcdC8vIHNlY3Rpb25zLmVxKHNlY3Rpb25zRXEpLmFkZENsYXNzKFwiYWN0aXZlXCIpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHRcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRpblNjcm9sbCA9IGZhbHNlO1xuXHRcblx0XHRcdFx0cmVzZXRBY3RpdmVDbGFzc0Zvckl0ZW0obWVudUl0ZW1zLCBzZWN0aW9uc0VxLCBcImZpeGVkLW1lbnVfX2l0ZW0tLWFjdGl2ZVwiKTtcblx0XG5cdFx0XHRcdHNpZGVNZW51LmZpbmQoXCIuZml4ZWQtbWVudV9faXRlbVwiKS5lcShzZWN0aW9uc0VxKS5hZGRDbGFzcyhcImZpeGVkLW1lbnVfX2l0ZW0tLWFjdGl2ZVwiKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKFwiZml4ZWQtbWVudV9faXRlbS0tYWN0aXZlXCIpO1xuXHRcblx0XHRcdH0sIDEzMDApO1xuXHRcdH1cblx0fVxuXHRcblx0Y29uc3Qgc2Nyb2xsVmlld3BvcnQgPSBkaXJlY3Rpb24gPT4ge1xuXHRcdGNvbnN0IGFjdGl2ZVNlY3Rpb24gPSBzZWN0aW9ucy5maWx0ZXIoXCIuYWN0aXZlXCIpO1xuXHRcdGNvbnN0IG5leHRTZWN0aW9uID0gYWN0aXZlU2VjdGlvbi5uZXh0KCk7XG5cdFx0Y29uc3QgcHJldlNlY3Rpb24gPSBhY3RpdmVTZWN0aW9uLnByZXYoKTtcblx0XG5cdFxuXHRcdGlmIChkaXJlY3Rpb24gPT0gXCJuZXh0XCIgICYmIG5leHRTZWN0aW9uLmxlbmd0aCkge1xuXHRcdFx0cGVyZm9ybVRyYW5zaXRpb24obmV4dFNlY3Rpb24uaW5kZXgoKSlcblx0XHR9XG5cdFxuXHRcdGlmIChkaXJlY3Rpb24gPT0gXCJwcmV2XCIgICYmIHByZXZTZWN0aW9uLmxlbmd0aCkge1xuXHRcdFx0cGVyZm9ybVRyYW5zaXRpb24ocHJldlNlY3Rpb24uaW5kZXgoKSlcblx0XHR9XG5cdH1cblx0XG5cdCQod2luZG93KS5vbihcIndoZWVsXCIsIGUgPT4ge1xuXHRcdGNvbnN0IGRlbHRhWSA9IGUub3JpZ2luYWxFdmVudC5kZWx0YVk7XG5cdFxuXHRcdGlmIChkZWx0YVkgPiAwKSB7XG5cdFx0XHRzY3JvbGxWaWV3cG9ydChcIm5leHRcIik7XG5cdFx0fVxuXHRcblx0XHRpZiAoZGVsdGFZIDwgMCkge1xuXHRcdFx0c2Nyb2xsVmlld3BvcnQoXCJwcmV2XCIpO1xuXHRcdH1cblx0fSk7XG5cdFxuXHQkKHdpbmRvdykub24oXCJrZXlkb3duXCIsIGUgPT4ge1xuXHRcdFxuXHRcdGNvbnN0IHRhZ05hbWUgPSBlLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFxuXHRcdGlmICh0YWdOYW1lICE9PSBcImlucHV0XCIgJiYgdGFnTmFtZSAhPT0gXCJ0ZXh0YXJlYVwiKSB7XG5cdFx0XHRzd2l0Y2ggKGUua2V5Q29kZSkge1xuXHRcdFx0XHRjYXNlIDM4OlxuXHRcdFx0XHRcdHNjcm9sbFZpZXdwb3J0KFwicHJldlwiKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcblx0XHRcdFx0Y2FzZSA0MDpcblx0XHRcdFx0XHRzY3JvbGxWaWV3cG9ydChcIm5leHRcIik7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHR9KTtcblxuXHQkKFwiLndyYXBwZXJcIikub24oXCJ0b3VjaGVtb3ZlXCIsIGUgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKTtcblx0XG5cdCQoXCJbZGF0YS1zY3JvbGwtdG9dXCIpLmNsaWNrKGUgPT4ge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XG5cdFx0Y29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG5cdFx0Y29uc3QgdGFyZ2V0ID0gJHRoaXMuYXR0cihcImRhdGEtc2Nyb2xsLXRvXCIpO1xuXHRcdGNvbnN0IHJlcVNlY3Rpb24gPSAkKGBbZGF0YS1zZWN0aW9uLWlkPSR7dGFyZ2V0fV1gKTtcblx0XG5cdFx0cGVyZm9ybVRyYW5zaXRpb24ocmVxU2VjdGlvbi5pbmRleCgpKTtcblx0XG5cdFx0Y29uc29sZS5sb2cocmVxU2VjdGlvbi5pbmRleCgpKVxuXHR9KTtcblxuXG5cdGlmKGlzTW9iaWxlKSB7XG5cdFx0JChcImJvZHlcIikuc3dpcGUoIHtcblx0XHRcdHN3aXBlOmZ1bmN0aW9uKGV2ZW50LCBkaXJlY3Rpb24sKSB7XG5cdFx0XHRcdGNvbnN0IHNjcm9sbGVyID0gdmlld3BvcnRTY3JvbGxlcigpO1xuXHRcdFx0XHRsZXQgc2Nyb2xsRGlyZWN0aW9uID0gXCJcIjtcblxuXHRcdFx0XHRpZihkaXJlY3Rpb24gPT09IFwidXBcIikgc2Nyb2xsRGlyZWN0aW9uID0gXCJuZXh0XCJcblx0XHRcdFx0aWYoZGlyZWN0aW9uID09PSBcImRvd25cIikgc2Nyb2xsRGlyZWN0aW9uID0gXCJwcmV2XCJcblxuXHRcdFx0XHRzY3JvbGxlcltzY3JvbGxEaXJlY3Rpb25dKCk7XG5cdFx0XHR9LFxuXHRcdH0pXG5cdH1cblx0XG59KSgpXG4iLCJcbmxldCBwbGF5ZXI7XG5jb25zdCBwbGF5ZXJDb250YWluZXIgPSAkKFwiLnBsYXllclwiKTtcblxubGV0IGl2ZW50c0luaXQgPSAoKSA9PiB7XG5cdCQoXCIucGxheWVyX19zdGFydFwiKS5jbGljayhlID0+IHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRpZiAocGxheWVyQ29udGFpbmVyLmhhc0NsYXNzKFwicGF1c2VkXCIpKSB7XG5cdFx0XHRcblx0XHRcdHBsYXllci5wYXVzZVZpZGVvKClcblx0XHR9IGVsc2Uge1xuXHRcdFx0XG5cdFx0XHRwbGF5ZXIucGxheVZpZGVvKClcblx0XHR9XG5cdFx0XG5cdH0pO1xuXG5cdCQoXCIucGxheWVyX19wbGF5YmFja1wiKS5jbGljayhlID0+IHtcblx0XHRjb25zdCBiYXIgPSAkKGUuY3VycmVudFRhcmdldCk7XG5cdFx0Y29uc3QgY2xpY2tlZFBvc2l0aW9uID0gIGUub3JpZ2luYWxFdmVudC5sYXllclg7XG5cdFx0Y29uc3QgbmV3QnV0dG9uUG9zaXRpb25QZXJjZW50ID0gKGNsaWNrZWRQb3NpdGlvbiAvIGJhci53aWR0aCgpKSAqIDEwMDtcblx0XHRjb25zdCBuZXdQbGF5ZXJCYWNrUG9zaXRpb25TZWMgPSAocGxheWVyLmdldER1cmF0aW9uKCkgLyAxMDApICogbmV3QnV0dG9uUG9zaXRpb25QZXJjZW50O1xuXG5cblx0XHQkKFwiLnBsYXllcl9fcGxheWJhY2stYnV0dG9uXCIpLmNzcyh7XG5cdFx0XHRsZWZ0OiBgJHtuZXdCdXR0b25Qb3NpdGlvblBlcmNlbnR9JWBcblx0XHR9KTtcblxuXHRcdHBsYXllci5zZWVrVG8obmV3UGxheWVyQmFja1Bvc2l0aW9uU2VjKTtcblxuXHR9KTtcblxuXHQkKFwiLnBsYXllcl9fc3BsYXNoXCIpLmNsaWNrKGUgPT4ge1xuXHRcdHBsYXllci5wbGF5VmlkZW8oKTtcblx0fSlcblxufTtcblxuY29uc3QgZm9ybWF0VGltZSA9IHRpbWVTZWMgPT4ge1xuXHRjb25zdCByb3VuZFRpbWUgPSBNYXRoLnJvdW5kKHRpbWVTZWMpO1xuXG5cdGNvbnN0IG1pbnV0ZXMgPSBhZGRaZXJvKE1hdGguZmxvb3Iocm91bmRUaW1lIC8gNjApKTtcblx0Y29uc3Qgc2Vjb25kcyA9IGFkZFplcm8ocm91bmRUaW1lIC0gbWludXRlcyAqIDYwKTtcblxuXHRmdW5jdGlvbiBhZGRaZXJvKG51bSkge1xuXHRcdHJldHVybiBudW0gPCAxMCA/IGAwJHtudW19YCA6IG51bTtcblx0XHR9XG5cblx0cmV0dXJuIGAke21pbnV0ZXN9IDogJHtzZWNvbmRzfWBcbn1cblxuY29uc3Qgb25QbGF5ZXJSZWFkeSA9ICgpID0+IHtcblx0bGV0IGludGVydmFsO1xuXHRjb25zdCBkdXJhdGlvblNlYyA9IHBsYXllci5nZXREdXJhdGlvbigpO1xuXG5cdCQoXCIucGxheWVyX19kdXJhdGlvbi1lc3RpbWF0ZVwiKS50ZXh0KGZvcm1hdFRpbWUoZHVyYXRpb25TZWMpKTtcblxuXHRpZiAodHlwZW9mIGludGVydmFsICE9PSAndW5kZWZpbmVkJykge1xuXHRcdGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuXHR9XG5cblx0aW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG5cdFx0Y29uc3QgY29tcGxldGVkU2VjID0gcGxheWVyLmdldEN1cnJlbnRUaW1lKCk7XG5cdFx0Y29uc3QgY29tcGxpdGVkUGVyY2VudCA9IChjb21wbGV0ZWRTZWMgLyBkdXJhdGlvblNlYykgKiAxMDA7XG5cblx0XHQkKFwiLnBsYXllcl9fcGxheWJhY2stYnV0dG9uXCIpLmNzcyh7XG5cdFx0XHRsZWZ0OiBgJHtjb21wbGl0ZWRQZXJjZW50fSVgXG5cdFx0fSk7XG5cblx0XHQkKFwiLnBsYXllcl9fZHVyYXRpb24tY29tcGxldGVkXCIpLnRleHQoZm9ybWF0VGltZShjb21wbGV0ZWRTZWMpKTtcblxuXHR9LCAxMDAwKTtcbn1cblxuY29uc3Qgb25QbGF5ZXJTdGF0ZUNoYW5nZSA9IGV2ZW50ID0+IHtcblx0c3dpdGNoIChldmVudC5kYXRhKSB7XG5cdFx0Y2FzZSAxOlxuXHRcdFx0cGxheWVyQ29udGFpbmVyLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuXHRcdFx0cGxheWVyQ29udGFpbmVyLmFkZENsYXNzKFwicGF1c2VkXCIpO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIDI6XG5cdFx0XHRwbGF5ZXJDb250YWluZXIucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG5cdFx0XHRwbGF5ZXJDb250YWluZXIucmVtb3ZlQ2xhc3MoXCJwYXVzZWRcIik7XG5cdFx0XHRicmVhaztcblxuXHR9XG59O1xuXG5mdW5jdGlvbiBvbllvdVR1YmVJZnJhbWVBUElSZWFkeSgpIHtcblx0Y29uc29sZS5sb2coJ29uWW91VHViZUlmcmFtZUFQSVJlYWR5Jyk7XG5cblx0cGxheWVyID0gbmV3IFlULlBsYXllcigneXQtcGxheWVyJywge1xuXHRcdGhlaWdodDogJzQwNScsXG5cdFx0d2lkdGg6ICc2NjAnLFxuXHRcdHZpZGVvSWQ6ICdoazNLUGE2eld6bycsXG5cdFx0cGxheWVyVmFyczoge1xuXHRcdFx0J3BsYXlzaW5saW5lJzogMVxuXHRcdH0sXG5cdFx0ZXZlbnRzOiB7XG5cdFx0XHQnb25SZWFkeSc6IG9uUGxheWVyUmVhZHksXG5cdFx0XHQnb25TdGF0ZUNoYW5nZSc6IG9uUGxheWVyU3RhdGVDaGFuZ2Vcblx0XHR9LFxuXHRcdHBsYXllclZhcnM6IHtcblx0XHRcdGNvbnRyb2xzOiAwLFxuXHRcdFx0ZGlzYWJsZWtiOiAwLFxuXHRcdFx0c2hvd2luZm86IDAsXG5cdFx0XHRyZWw6IDAsXG5cdFx0XHRhdXRvcGxheTogMCxcblx0XHRcdG1vZGVzdGJyYW5kaW5nOiAwLFxuXG5cdFx0fVxuXHR9KTtcbn1cblxuaXZlbnRzSW5pdCAoKTtcblxuLy8gOyhmdW5jdGlvbigpIHtcblxuLy8gfSkoKSIsIjsoZnVuY3Rpb24oKSB7XG5cdGNvbnN0IGZpbmRCbG9ja0J5QWxpYXMgPSBhbGlhcyA9PiB7XG5cdFx0cmV0dXJuICQoXCIucmV2aWV3c19faXRlbVwiKS5maWx0ZXIoKG5keCwgaXRlbSkgPT4ge1xuXHRcdFx0cmV0dXJuICQoaXRlbSkuYXR0cihcImRhdGEtbGlua2VkLXdpdGhcIikgPT0gYWxpYXNcblx0XHR9KTtcblx0fTtcblx0XG5cdCQoXCIuaW50ZXJhY3RpdmUtYXZhdGFyX19saW5rXCIpLmNsaWNrKChlKSA9PiB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcblx0XHRjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblx0XHRjb25zdCB0YXJnZXQgPSAkdGhpcy5hdHRyKFwiZGF0YS1vcGVuXCIpO1xuXHRcdGNvbnN0IGl0ZW1Ub1Nob3cgPSBmaW5kQmxvY2tCeUFsaWFzKHRhcmdldCk7XG5cdFx0Y29uc3QgY3VySXRlbSA9ICR0aGlzIC5jbG9zZXN0KFwiLnJldmlld3NfX3N3aXRjaGVyLWl0ZW1cIik7XG5cdFxuXHRcdGl0ZW1Ub1Nob3cuYWRkQ2xhc3MoXCJhY3RpdmVcIikuc2libGluZ3MoKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcblx0XHRjdXJJdGVtLmFkZENsYXNzKFwiYWN0aXZlXCIpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG5cdFxuXHR9KTtcblx0XG59KSgpIiwiOyhmdW5jdGlvbigpIHtcblx0Y29uc3QgbGVmdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXJyb3ctLXByZXdcIik7XG5cdGNvbnN0IHJpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhcnJvdy0tbmV4dFwiKTtcblx0Y29uc3QgaXRlbUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NsaWRlcl9fbGlzdFwiKVxuXHRcblx0Y29uc3QgbG9vcCA9IChkaXJlY3Rpb24sIGUpID0+IHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHRcdGlmIChkaXJlY3Rpb24gPT0gXCJyaWdodFwiICkge1xuXHRcdFx0aXRlbUxpc3QuYXBwZW5kQ2hpbGQoaXRlbUxpc3QuZmlyc3RFbGVtZW50Q2hpbGQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpdGVtTGlzdC5pbnNlcnRCZWZvcmUoaXRlbUxpc3QubGFzdEVsZW1lbnRDaGlsZCwgc2xpZGVyX19saXN0LmZpcnN0RWxlbWVudENoaWxkKTtcblx0XHR9XG5cdH1cblx0XG5cdHJpZ2h0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlID0+IHtcblx0XHRsb29wIChcInJpZ2h0XCIsIGUpXG5cdH0pXG5cdFxuXHRsZWZ0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlID0+IHtcblx0XHRsb29wIChcImxlZnRcIiwgZSlcblx0fSlcbn0pKCkiLCI7KGZ1bmN0aW9uKCkge1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBURUFNXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuY29uc3Qgb3Blbkl0ZW0gPSBpdGVtID0+IHtcblx0Y29uc3QgY29udGFpbmVyID0gaXRlbS5jbG9zZXN0KFwiLnRlYW1fX2l0ZW1cIik7XG5cdGNvbnN0IGNvbnRlbnRCbG9jayA9IGNvbnRhaW5lci5maW5kKFwiLnRlYW1fX2NvbnRlbnRcIik7XG5cdGNvbnN0IHRleHRCbG9jayA9IGNvbnRlbnRCbG9jay5maW5kKFwiLnRlYW1fX2NvbnRlbnQtYmxvY2tcIik7XG5cdGNvbnN0IHJlcUhlaWdodCA9IHRleHRCbG9jay5oZWlnaHQoKTtcblxuXG5cdGNvbnRhaW5lci5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcblx0Y29udGVudEJsb2NrLmhlaWdodChyZXFIZWlnaHQpO1xuXHRcbn1cblxuY29uc3QgY2xvc2VFdmVyeUl0ZW0gPSBjb250YWluZXIgPT4ge1xuXHRjb25zdCBpdGVtcyA9IGNvbnRhaW5lci5maW5kKFwiLnRlYW1fX2NvbnRlbnRcIik7XG5cdGNvbnN0IGl0ZW1Db250YWluZXIgPSBjb250YWluZXIuZmluZChcIi50ZWFtX19pdGVtXCIpO1xuXG5cdGl0ZW1Db250YWluZXIucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG5cdGl0ZW1zLmhlaWdodCgwKTtcbn1cblxuJChcIi50ZWFtX190aWx0bGVcIikuY2xpY2soZSA9Pntcblx0Y29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG5cdGNvbnN0IGNvbnRhaW5lciA9ICR0aGlzLmNsb3Nlc3QoXCIudGVhbVwiKVxuXHRjb25zdCBlbGVtQ29udGFpbmVyID0gJHRoaXMuY2xvc2VzdChcIi50ZWFtX19pdGVtXCIpO1xuXG5cblx0aWYgKGVsZW1Db250YWluZXIuaGFzQ2xhc3MoXCJhY3RpdmVcIikpIHtcblx0XHRjbG9zZUV2ZXJ5SXRlbShjb250YWluZXIpO1xuXHR9IGVsc2Uge1xuXHRcdGNsb3NlRXZlcnlJdGVtKGNvbnRhaW5lcik7XG5cdFx0b3Blbkl0ZW0oJHRoaXMpO1xuXHR9XG5cblxufSk7XG5cbn0pKCkiXX0=
