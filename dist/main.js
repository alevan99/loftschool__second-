"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
;
(function () {
  var lines = document.querySelectorAll(".colors-acco__item");
  for (var index = 0; index < lines.length; index++) {
    var element = lines[index];
    element.addEventListener("click", function (e) {
      e.preventDefault();
      if (e.target.classList.contains("colors-acco__content")) return;
      var currentLine = e.target.closest(".colors-acco__item");
      for (var i = 0; i < lines.length; i++) {
        if (lines[i] !== currentLine) lines[i].classList.remove("colors-acco__item-active");
      }
      if (currentLine.classList.contains("colors-acco__item-active")) {
        currentLine.classList.remove("colors-acco__item-active");
      } else {
        currentLine.classList.add("colors-acco__item-active");
      }
    });
  }
})();
(function () {
  var openElement = document.querySelector(".hamburger");
  var closeElement = document.querySelector(".cross__logo");
  var body = document.body;
  openElement.addEventListener("click", function (e) {
    e.preventDefault();
    var humburgerMenu = document.querySelector("#humburgerMenu");
    humburgerMenu.classList.remove(".hamburger-menu");
    var hamburgerMain = document.querySelector(".hamburger-menu");
    hamburgerMain.classList.toggle("hamburger-main");
  });
  closeElement.addEventListener("click", function (e) {
    e.preventDefault();
    var hamburgerMain = document.querySelector(".hamburger-menu");
    hamburgerMain.classList.remove("hamburger-main");
  });
  humburgerMenu.addEventListener("click", function (e) {
    if (!e.target.classList.contains("hamburger-menu__link")) {
      closeElement.click();
    }
  });
})();
(function () {
  var myMap;
  var init = function init() {
    myMap = new ymaps.Map("yandex-maps", {
      center: [55.751427, 37.617315],
      zoom: 14,
      controls: []
    });
    var coords = [[55.745136, 37.588946], [55.754055, 37.591183], [55.742148, 37.565524]];
    var myCollection = new ymaps.GeoObjectCollection({}, {
      draggable: false,
      iconLayout: 'default#image',
      iconImageHref: "./img/map-marker.png",
      iconImageSize: [30, 42],
      iconImageOffset: [-3, -42]
    });
    coords.forEach(function (coord) {
      myCollection.add(new ymaps.Placemark(coord));
    });
    myMap.geoObjects.add(myCollection);
  };
  ymaps.ready(init);
})();
(function () {
  var validateFields = function validateFields(form, fieldsArray) {
    fieldsArray.forEach(function (field) {
      field.removeClass("input-error");
      if (field.val().trim() === "") {
        field.addClass("input-error");
      }
    });
    var errorFields = form.find(".input-error");
    return errorFields.length === 0;
  };
  $('#form').submit(function (e) {
    e.preventDefault();
    var form = $(e.currentTarget);
    var name = form.find("[name='name']");
    var phone = form.find("[name='phone']");
    var comment = form.find("[name='comment']");
    var to = form.find("[name='to']");
    var modal = $("#modal");
    var content = modal.find(".modal__content");
    modal.removeClass("error-modal");
    var isValid = validateFields(form, [comment, name, phone, to]);
    if (isValid) {
      $.ajax({
        url: "https://webdev-api.loftschool.com/sendmail",
        method: "post",
        data: {
          name: name.val(),
          phone: phone.val(),
          comment: comment.val(),
          to: to.val()
        },
        success: function success(data) {
          content.text(data.message);
          // console.log(data);
          $.fancybox.open({
            src: '#modal',
            type: "inline"
          });
        },
        error: function error(data) {
          // const message = data.responseJSON.messaeg
          // content.text(message);
          // modal.addClass("error-modal");
          content.text('Произошла ошибка, попробуйте снова');
          $.fancybox.open({
            src: '#modal',
            type: "inline"
          });
        }
      });
    }
  });
  $(".app-submit-btn").click(function (e) {
    e.preventDefault();
    $.fancybox.close();
  });
})();
(function () {
  var sections = $("section");
  var display = $(".main-content");
  var sideMenu = $(".fixed-menu");
  var menuItems = sideMenu.find("fixed-menu__item");
  var inScroll = false;
  sections.first().addClass("active");
  var countSectionPosition = function countSectionPosition(sectionsEq) {
    return sectionsEq * -100;
  };
  var resetActiveClassForItem = function resetActiveClassForItem(item, itemEq, activeClass) {
    item.eq(itemEq).addClass(activeClass).siblings().removeClass(activeClass);
  };
  var performTransition = function performTransition(sectionsEq) {
    if (inScroll == false) {
      inScroll = true;
      var position = countSectionPosition(sectionsEq);
      display.css({
        transform: "translateY(".concat(position, "%)")
      });
      resetActiveClassForItem(sections, sectionsEq, "active");
      // sections.eq(sectionsEq).addClass("active").siblings().removeClass("active");	
      setTimeout(function () {
        inScroll = false;
        resetActiveClassForItem(menuItems, sectionsEq, "fixed-menu__item--active");
        sideMenu.find(".fixed-menu__item").eq(sectionsEq).addClass("fixed-menu__item--active").siblings().removeClass("fixed-menu__item--active");
      }, 1300);
    }
  };
  var scrollViewport = function scrollViewport(direction) {
    var activeSection = sections.filter(".active");
    var nextSection = activeSection.next();
    var prevSection = activeSection.prev();
    if (direction == "next" && nextSection.length) {
      performTransition(nextSection.index());
    }
    if (direction == "prev" && prevSection.length) {
      performTransition(prevSection.index());
    }
  };
  $(window).on("wheel", function (e) {
    var deltaY = e.originalEvent.deltaY;
    if (deltaY > 0) {
      scrollViewport("next");
    }
    if (deltaY < 0) {
      scrollViewport("prev");
    }
  });
  $(window).on("keydown", function (e) {
    var tagName = e.target.tagName.toLowerCase();
    if (tagName !== "input" && tagName !== "textarea") {
      switch (e.keyCode) {
        case 38:
          scrollViewport("prev");
          break;
        case 40:
          scrollViewport("next");
          break;
      }
    }
  });
  $(".wrapper").on("touchemove", function (e) {
    return e.preventDefault();
  });
  $("[data-scroll-to]").click(function (e) {
    e.preventDefault();
    var $this = $(e.currentTarget);
    var target = $this.attr("data-scroll-to");
    var reqSection = $("[data-section-id=".concat(target, "]"));
    performTransition(reqSection.index());
    console.log(reqSection.index());
  });
  var mobileDetect = new MobileDetect(window.navigator.userAgent);
  var isMobile = mobileDetect.mobile();
  if (isMobile) {
    $("body").swipe({
      swipe: function swipe(event, direction) {
        if (direction == 'up') {
          scrollViewport('next');
        }
        if (direction == 'down') {
          scrollViewport('prev');
        }
      }
    });
  }
  ;

  // if(isMobile) {
  // 	$("body").swipe( {
  // 		swipe:function(event, direction,) {
  // 			const scroller = viewportScroller();
  // 			let scrollDirection = "";

  // 			if(direction === "up") scrollDirection = "next"
  // 			if(direction === "down") scrollDirection = "prev"

  // 			scroller[scrollDirection]();
  // 		},
  // 	})
  // }
})();

var player;
var playerContainer = $(".player");
var iventsInit = function iventsInit() {
  $(".player__start").click(function (e) {
    e.preventDefault();
    if (playerContainer.hasClass("paused")) {
      player.pauseVideo();
    } else {
      player.playVideo();
    }
  });
  $(".player__playback").click(function (e) {
    var bar = $(e.currentTarget);
    var clickedPosition = e.originalEvent.layerX;
    var newButtonPositionPercent = clickedPosition / bar.width() * 100;
    var newPlayerBackPositionSec = player.getDuration() / 100 * newButtonPositionPercent;
    $(".player__playback-button").css({
      left: "".concat(newButtonPositionPercent, "%")
    });
    player.seekTo(newPlayerBackPositionSec);
  });
  $(".player__splash").click(function (e) {
    player.playVideo();
  });
};
var formatTime = function formatTime(timeSec) {
  var roundTime = Math.round(timeSec);
  var minutes = addZero(Math.floor(roundTime / 60));
  var seconds = addZero(roundTime - minutes * 60);
  function addZero(num) {
    return num < 10 ? "0".concat(num) : num;
  }
  return "".concat(minutes, " : ").concat(seconds);
};
var onPlayerReady = function onPlayerReady() {
  var interval;
  var durationSec = player.getDuration();
  $(".player__duration-estimate").text(formatTime(durationSec));
  if (typeof interval !== 'undefined') {
    clearInterval(interval);
  }
  interval = setInterval(function () {
    var completedSec = player.getCurrentTime();
    var complitedPercent = completedSec / durationSec * 100;
    $(".player__playback-button").css({
      left: "".concat(complitedPercent, "%")
    });
    $(".player__duration-completed").text(formatTime(completedSec));
  }, 1000);
};
var onPlayerStateChange = function onPlayerStateChange(event) {
  switch (event.data) {
    case 1:
      playerContainer.addClass("active");
      playerContainer.addClass("paused");
      break;
    case 2:
      playerContainer.removeClass("active");
      playerContainer.removeClass("paused");
      break;
  }
};
function onYouTubeIframeAPIReady() {
  console.log('onYouTubeIframeAPIReady');
  player = new YT.Player('yt-player', _defineProperty({
    height: '405',
    width: '660',
    videoId: 'hk3KPa6zWzo',
    playerVars: {
      'playsinline': 1
    },
    events: {
      'onReady': onPlayerReady,
      'onStateChange': onPlayerStateChange
    }
  }, "playerVars", {
    controls: 0,
    disablekb: 0,
    showinfo: 0,
    rel: 0,
    autoplay: 0,
    modestbranding: 0
  }));
}
iventsInit();

// ;(function() {

// })()
;
(function () {
  var findBlockByAlias = function findBlockByAlias(alias) {
    return $(".reviews__item").filter(function (ndx, item) {
      return $(item).attr("data-linked-with") == alias;
    });
  };
  $(".interactive-avatar__link").click(function (e) {
    e.preventDefault();
    var $this = $(e.currentTarget);
    var target = $this.attr("data-open");
    var itemToShow = findBlockByAlias(target);
    var curItem = $this.closest(".reviews__switcher-item");
    itemToShow.addClass("active").siblings().removeClass("active");
    curItem.addClass("active").siblings().removeClass("active");
  });
})();
(function () {
  var left = document.querySelector("#arrow--prew");
  var right = document.querySelector("#arrow--next");
  var itemList = document.querySelector("#slider__list");
  var loop = function loop(direction, e) {
    e.preventDefault();
    if (direction == "right") {
      itemList.appendChild(itemList.firstElementChild);
    } else {
      itemList.insertBefore(itemList.lastElementChild, slider__list.firstElementChild);
    }
  };
  right.addEventListener("click", function (e) {
    loop("right", e);
  });
  left.addEventListener("click", function (e) {
    loop("left", e);
  });
})();
(function () {
  /////////////////////////////////////////////
  // TEAM
  /////////////////////////////////////////////

  var openItem = function openItem(item) {
    var container = item.closest(".team__item");
    var contentBlock = container.find(".team__content");
    var textBlock = contentBlock.find(".team__content-block");
    var reqHeight = textBlock.height();
    container.addClass("active");
    contentBlock.height(reqHeight);
  };
  var closeEveryItem = function closeEveryItem(container) {
    var items = container.find(".team__content");
    var itemContainer = container.find(".team__item");
    itemContainer.removeClass("active");
    items.height(0);
  };
  $(".team__tiltle").click(function (e) {
    var $this = $(e.currentTarget);
    var container = $this.closest(".team");
    var elemContainer = $this.closest(".team__item");
    if (elemContainer.hasClass("active")) {
      closeEveryItem(container);
    } else {
      closeEveryItem(container);
      openItem($this);
    }
  });
})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY28uanMiLCJoYW1idXJnZXIuanMiLCJtYXAuanMiLCJtb2RhbC5qcyIsIm9wcy5qcyIsInBsYXllci5qcyIsInJldmlld3MuanMiLCJzbGlkZXIuanMiLCJ0ZWFtLmpzIl0sIm5hbWVzIjpbImxpbmVzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5kZXgiLCJsZW5ndGgiLCJlbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInRhcmdldCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiY3VycmVudExpbmUiLCJjbG9zZXN0IiwiaSIsInJlbW92ZSIsImFkZCIsIm9wZW5FbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImNsb3NlRWxlbWVudCIsImJvZHkiLCJodW1idXJnZXJNZW51IiwiaGFtYnVyZ2VyTWFpbiIsInRvZ2dsZSIsImNsaWNrIiwibXlNYXAiLCJpbml0IiwieW1hcHMiLCJNYXAiLCJjZW50ZXIiLCJ6b29tIiwiY29udHJvbHMiLCJjb29yZHMiLCJteUNvbGxlY3Rpb24iLCJHZW9PYmplY3RDb2xsZWN0aW9uIiwiZHJhZ2dhYmxlIiwiaWNvbkxheW91dCIsImljb25JbWFnZUhyZWYiLCJpY29uSW1hZ2VTaXplIiwiaWNvbkltYWdlT2Zmc2V0IiwiZm9yRWFjaCIsImNvb3JkIiwiUGxhY2VtYXJrIiwiZ2VvT2JqZWN0cyIsInJlYWR5IiwidmFsaWRhdGVGaWVsZHMiLCJmb3JtIiwiZmllbGRzQXJyYXkiLCJmaWVsZCIsInJlbW92ZUNsYXNzIiwidmFsIiwidHJpbSIsImFkZENsYXNzIiwiZXJyb3JGaWVsZHMiLCJmaW5kIiwiJCIsInN1Ym1pdCIsImN1cnJlbnRUYXJnZXQiLCJuYW1lIiwicGhvbmUiLCJjb21tZW50IiwidG8iLCJtb2RhbCIsImNvbnRlbnQiLCJpc1ZhbGlkIiwiYWpheCIsInVybCIsIm1ldGhvZCIsImRhdGEiLCJzdWNjZXNzIiwidGV4dCIsIm1lc3NhZ2UiLCJmYW5jeWJveCIsIm9wZW4iLCJzcmMiLCJ0eXBlIiwiZXJyb3IiLCJjbG9zZSIsInNlY3Rpb25zIiwiZGlzcGxheSIsInNpZGVNZW51IiwibWVudUl0ZW1zIiwiaW5TY3JvbGwiLCJmaXJzdCIsImNvdW50U2VjdGlvblBvc2l0aW9uIiwic2VjdGlvbnNFcSIsInJlc2V0QWN0aXZlQ2xhc3NGb3JJdGVtIiwiaXRlbSIsIml0ZW1FcSIsImFjdGl2ZUNsYXNzIiwiZXEiLCJzaWJsaW5ncyIsInBlcmZvcm1UcmFuc2l0aW9uIiwicG9zaXRpb24iLCJjc3MiLCJ0cmFuc2Zvcm0iLCJzZXRUaW1lb3V0Iiwic2Nyb2xsVmlld3BvcnQiLCJkaXJlY3Rpb24iLCJhY3RpdmVTZWN0aW9uIiwiZmlsdGVyIiwibmV4dFNlY3Rpb24iLCJuZXh0IiwicHJldlNlY3Rpb24iLCJwcmV2Iiwid2luZG93Iiwib24iLCJkZWx0YVkiLCJvcmlnaW5hbEV2ZW50IiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwia2V5Q29kZSIsIiR0aGlzIiwiYXR0ciIsInJlcVNlY3Rpb24iLCJjb25zb2xlIiwibG9nIiwibW9iaWxlRGV0ZWN0IiwiTW9iaWxlRGV0ZWN0IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaXNNb2JpbGUiLCJtb2JpbGUiLCJzd2lwZSIsImV2ZW50IiwicGxheWVyIiwicGxheWVyQ29udGFpbmVyIiwiaXZlbnRzSW5pdCIsImhhc0NsYXNzIiwicGF1c2VWaWRlbyIsInBsYXlWaWRlbyIsImJhciIsImNsaWNrZWRQb3NpdGlvbiIsImxheWVyWCIsIm5ld0J1dHRvblBvc2l0aW9uUGVyY2VudCIsIndpZHRoIiwibmV3UGxheWVyQmFja1Bvc2l0aW9uU2VjIiwiZ2V0RHVyYXRpb24iLCJsZWZ0Iiwic2Vla1RvIiwiZm9ybWF0VGltZSIsInRpbWVTZWMiLCJyb3VuZFRpbWUiLCJNYXRoIiwicm91bmQiLCJtaW51dGVzIiwiYWRkWmVybyIsImZsb29yIiwic2Vjb25kcyIsIm51bSIsIm9uUGxheWVyUmVhZHkiLCJpbnRlcnZhbCIsImR1cmF0aW9uU2VjIiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwiY29tcGxldGVkU2VjIiwiZ2V0Q3VycmVudFRpbWUiLCJjb21wbGl0ZWRQZXJjZW50Iiwib25QbGF5ZXJTdGF0ZUNoYW5nZSIsIm9uWW91VHViZUlmcmFtZUFQSVJlYWR5IiwiWVQiLCJQbGF5ZXIiLCJoZWlnaHQiLCJ2aWRlb0lkIiwicGxheWVyVmFycyIsImV2ZW50cyIsImRpc2FibGVrYiIsInNob3dpbmZvIiwicmVsIiwiYXV0b3BsYXkiLCJtb2Rlc3RicmFuZGluZyIsImZpbmRCbG9ja0J5QWxpYXMiLCJhbGlhcyIsIm5keCIsIml0ZW1Ub1Nob3ciLCJjdXJJdGVtIiwicmlnaHQiLCJpdGVtTGlzdCIsImxvb3AiLCJhcHBlbmRDaGlsZCIsImZpcnN0RWxlbWVudENoaWxkIiwiaW5zZXJ0QmVmb3JlIiwibGFzdEVsZW1lbnRDaGlsZCIsInNsaWRlcl9fbGlzdCIsIm9wZW5JdGVtIiwiY29udGFpbmVyIiwiY29udGVudEJsb2NrIiwidGV4dEJsb2NrIiwicmVxSGVpZ2h0IiwiY2xvc2VFdmVyeUl0ZW0iLCJpdGVtcyIsIml0ZW1Db250YWluZXIiLCJlbGVtQ29udGFpbmVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUFBLENBQUEsWUFBQTtFQUNBLElBQUFBLEtBQUEsR0FBQUMsUUFBQSxDQUFBQyxnQkFBQSxDQUFBLG9CQUFBLENBQUE7RUFFQSxLQUFBLElBQUFDLEtBQUEsR0FBQSxDQUFBLEVBQUFBLEtBQUEsR0FBQUgsS0FBQSxDQUFBSSxNQUFBLEVBQUFELEtBQUEsRUFBQSxFQUFBO0lBQ0EsSUFBQUUsT0FBQSxHQUFBTCxLQUFBLENBQUFHLEtBQUEsQ0FBQTtJQUNBRSxPQUFBLENBQUFDLGdCQUFBLENBQUEsT0FBQSxFQUFBLFVBQUFDLENBQUEsRUFBQTtNQUNBQSxDQUFBLENBQUFDLGNBQUEsRUFBQTtNQUNBLElBQUFELENBQUEsQ0FBQUUsTUFBQSxDQUFBQyxTQUFBLENBQUFDLFFBQUEsQ0FBQSxzQkFBQSxDQUFBLEVBQUE7TUFDQSxJQUFBQyxXQUFBLEdBQUFMLENBQUEsQ0FBQUUsTUFBQSxDQUFBSSxPQUFBLENBQUEsb0JBQUEsQ0FBQTtNQUVBLEtBQUEsSUFBQUMsQ0FBQSxHQUFBLENBQUEsRUFBQUEsQ0FBQSxHQUFBZCxLQUFBLENBQUFJLE1BQUEsRUFBQVUsQ0FBQSxFQUFBLEVBQUE7UUFDQSxJQUFBZCxLQUFBLENBQUFjLENBQUEsQ0FBQSxLQUFBRixXQUFBLEVBQ0FaLEtBQUEsQ0FBQWMsQ0FBQSxDQUFBLENBQUFKLFNBQUEsQ0FBQUssTUFBQSxDQUFBLDBCQUFBLENBQUE7TUFDQTtNQUVBLElBQUFILFdBQUEsQ0FBQUYsU0FBQSxDQUFBQyxRQUFBLENBQUEsMEJBQUEsQ0FBQSxFQUFBO1FBQ0FDLFdBQUEsQ0FBQUYsU0FBQSxDQUFBSyxNQUFBLENBQUEsMEJBQUEsQ0FBQTtNQUNBLENBQUEsTUFBQTtRQUNBSCxXQUFBLENBQUFGLFNBQUEsQ0FBQU0sR0FBQSxDQUFBLDBCQUFBLENBQUE7TUFDQTtJQUNBLENBQUEsQ0FBQTtFQUNBO0FBQ0EsQ0FBQSxHQUFBO0FDdEJBLENBQUEsWUFBQTtFQUNBLElBQUFDLFdBQUEsR0FBQWhCLFFBQUEsQ0FBQWlCLGFBQUEsQ0FBQSxZQUFBLENBQUE7RUFDQSxJQUFBQyxZQUFBLEdBQUFsQixRQUFBLENBQUFpQixhQUFBLENBQUEsY0FBQSxDQUFBO0VBQ0EsSUFBQUUsSUFBQSxHQUFBbkIsUUFBQSxDQUFBbUIsSUFBQTtFQUVBSCxXQUFBLENBQUFYLGdCQUFBLENBQUEsT0FBQSxFQUFBLFVBQUFDLENBQUEsRUFBQTtJQUNBQSxDQUFBLENBQUFDLGNBQUEsRUFBQTtJQUVBLElBQUFhLGFBQUEsR0FBQXBCLFFBQUEsQ0FBQWlCLGFBQUEsQ0FBQSxnQkFBQSxDQUFBO0lBQ0FHLGFBQUEsQ0FBQVgsU0FBQSxDQUFBSyxNQUFBLENBQUEsaUJBQUEsQ0FBQTtJQUVBLElBQUFPLGFBQUEsR0FBQXJCLFFBQUEsQ0FBQWlCLGFBQUEsQ0FBQSxpQkFBQSxDQUFBO0lBQ0FJLGFBQUEsQ0FBQVosU0FBQSxDQUFBYSxNQUFBLENBQUEsZ0JBQUEsQ0FBQTtFQUNBLENBQUEsQ0FBQTtFQUVBSixZQUFBLENBQUFiLGdCQUFBLENBQUEsT0FBQSxFQUFBLFVBQUFDLENBQUEsRUFBQTtJQUNBQSxDQUFBLENBQUFDLGNBQUEsRUFBQTtJQUVBLElBQUFjLGFBQUEsR0FBQXJCLFFBQUEsQ0FBQWlCLGFBQUEsQ0FBQSxpQkFBQSxDQUFBO0lBQ0FJLGFBQUEsQ0FBQVosU0FBQSxDQUFBSyxNQUFBLENBQUEsZ0JBQUEsQ0FBQTtFQUNBLENBQUEsQ0FBQTtFQUdBTSxhQUFBLENBQUFmLGdCQUFBLENBQUEsT0FBQSxFQUFBLFVBQUFDLENBQUEsRUFBQTtJQUNBLElBQUEsQ0FBQUEsQ0FBQSxDQUFBRSxNQUFBLENBQUFDLFNBQUEsQ0FBQUMsUUFBQSxDQUFBLHNCQUFBLENBQUEsRUFBQTtNQUNBUSxZQUFBLENBQUFLLEtBQUEsRUFBQTtJQUNBO0VBQ0EsQ0FBQSxDQUFBO0FBQ0EsQ0FBQSxHQUFBO0FDNUJBLENBQUEsWUFBQTtFQUNBLElBQUFDLEtBQUE7RUFDQSxJQUFBQyxJQUFBLEdBQUEsU0FBQUEsSUFBQSxHQUFBO0lBQ0FELEtBQUEsR0FBQSxJQUFBRSxLQUFBLENBQUFDLEdBQUEsQ0FBQSxhQUFBLEVBQUE7TUFDQUMsTUFBQSxFQUFBLENBQUEsU0FBQSxFQUFBLFNBQUEsQ0FBQTtNQUNBQyxJQUFBLEVBQUEsRUFBQTtNQUNBQyxRQUFBLEVBQUE7SUFDQSxDQUFBLENBQUE7SUFFQSxJQUFBQyxNQUFBLEdBQUEsQ0FDQSxDQUFBLFNBQUEsRUFBQSxTQUFBLENBQUEsRUFDQSxDQUFBLFNBQUEsRUFBQSxTQUFBLENBQUEsRUFDQSxDQUFBLFNBQUEsRUFBQSxTQUFBLENBQUEsQ0FDQTtJQUVBLElBQUFDLFlBQUEsR0FBQSxJQUFBTixLQUFBLENBQUFPLG1CQUFBLENBQUEsQ0FBQSxDQUFBLEVBQUE7TUFDQUMsU0FBQSxFQUFBLEtBQUE7TUFDQUMsVUFBQSxFQUFBLGVBQUE7TUFDQUMsYUFBQSxFQUFB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QUFBLEdBQUF6RCxDQUFBLENBQUFoRCxDQUFBLENBQUFrRCxhQUFBLENBQUE7SUFDQSxJQUFBZ0ksU0FBQSxHQUFBekUsS0FBQSxDQUFBbkcsT0FBQSxDQUFBLE9BQUEsQ0FBQTtJQUNBLElBQUFtTCxhQUFBLEdBQUFoRixLQUFBLENBQUFuRyxPQUFBLENBQUEsYUFBQSxDQUFBO0lBR0EsSUFBQW1MLGFBQUEsQ0FBQWhFLFFBQUEsQ0FBQSxRQUFBLENBQUEsRUFBQTtNQUNBNkQsY0FBQSxDQUFBSixTQUFBLENBQUE7SUFDQSxDQUFBLE1BQUE7TUFDQUksY0FBQSxDQUFBSixTQUFBLENBQUE7TUFDQUQsUUFBQSxDQUFBeEUsS0FBQSxDQUFBO0lBQ0E7RUFHQSxDQUFBLENBQUE7QUFFQSxDQUFBLEdBQUEiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIjsoZnVuY3Rpb24oKSB7XG5cdGNvbnN0IGxpbmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jb2xvcnMtYWNjb19faXRlbVwiKTtcblxuXHRmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbGluZXMubGVuZ3RoOyBpbmRleCsrKSB7XG5cdFx0Y29uc3QgZWxlbWVudCA9IGxpbmVzW2luZGV4XVxuXHRcdGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0aWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImNvbG9ycy1hY2NvX19jb250ZW50XCIpKSByZXR1cm5cblx0XHRcdGNvbnN0IGN1cnJlbnRMaW5lID0gZS50YXJnZXQuY2xvc2VzdChcIi5jb2xvcnMtYWNjb19faXRlbVwiKTtcblx0XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChsaW5lc1tpXSAhPT0gY3VycmVudExpbmUpXG5cdFx0XHRcdGxpbmVzW2ldLmNsYXNzTGlzdC5yZW1vdmUoXCJjb2xvcnMtYWNjb19faXRlbS1hY3RpdmVcIilcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoY3VycmVudExpbmUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY29sb3JzLWFjY29fX2l0ZW0tYWN0aXZlXCIpKSB7XG5cdFx0XHRcdGN1cnJlbnRMaW5lLmNsYXNzTGlzdC5yZW1vdmUoXCJjb2xvcnMtYWNjb19faXRlbS1hY3RpdmVcIilcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGN1cnJlbnRMaW5lLmNsYXNzTGlzdC5hZGQoXCJjb2xvcnMtYWNjb19faXRlbS1hY3RpdmVcIik7XG5cdFx0XHR9XG5cdFx0fSlcblx0fVxufSkoKSIsIjsoZnVuY3Rpb24oKSB7XG5cdGNvbnN0IG9wZW5FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oYW1idXJnZXJcIik7XG5cdGNvbnN0IGNsb3NlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY3Jvc3NfX2xvZ29cIik7XG5cdGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuXHRcblx0b3BlbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XG5cdFx0dmFyIGh1bWJ1cmdlck1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2h1bWJ1cmdlck1lbnVcIilcblx0XHRodW1idXJnZXJNZW51LmNsYXNzTGlzdC5yZW1vdmUoXCIuaGFtYnVyZ2VyLW1lbnVcIilcblx0XHRcblx0XHR2YXIgaGFtYnVyZ2VyTWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGFtYnVyZ2VyLW1lbnVcIik7XG5cdFx0aGFtYnVyZ2VyTWFpbi5jbGFzc0xpc3QudG9nZ2xlKFwiaGFtYnVyZ2VyLW1haW5cIik7XG5cdH0pO1xuXHRcblx0Y2xvc2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlID0+IHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHRcdHZhciBoYW1idXJnZXJNYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oYW1idXJnZXItbWVudVwiKTtcblx0XHRoYW1idXJnZXJNYWluLmNsYXNzTGlzdC5yZW1vdmUoXCJoYW1idXJnZXItbWFpblwiKTtcblx0fSk7XG5cdFxuXHRcblx0aHVtYnVyZ2VyTWVudS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XG5cdFx0aWYoIWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImhhbWJ1cmdlci1tZW51X19saW5rXCIpKSB7XG5cdFx0XHRjbG9zZUVsZW1lbnQuY2xpY2soKTtcblx0XHR9XG5cdH0pO1xufSkoKVxuXG5cbiIsIjsoZnVuY3Rpb24oKSB7XG5cdGxldCBteU1hcDtcblx0Y29uc3QgaW5pdCA9ICgpID0+IHtcblx0XHRteU1hcCA9IG5ldyB5bWFwcy5NYXAoXCJ5YW5kZXgtbWFwc1wiLCB7XG5cdFx0XHRjZW50ZXI6IFs1NS43NTE0MjcsIDM3LjYxNzMxNV0sXG5cdFx0XHR6b29tOiAxNCxcblx0XHRcdGNvbnRyb2xzOiBbXVxuXHRcdH0pO1xuXHRcblx0XHRjb25zdCBjb29yZHMgPSBbXG5cdFx0XHRbNTUuNzQ1MTM2LCAzNy41ODg5NDZdLFxuXHRcdFx0WzU1Ljc1NDA1NSwgMzcuNTkxMTgzXSxcblx0XHRcdFs1NS43NDIxNDgsIDM3LjU2NTUyNF0sXG5cdFx0XTtcblx0XG5cdFx0Y29uc3QgbXlDb2xsZWN0aW9uID0gbmV3IHltYXBzLkdlb09iamVjdENvbGxlY3Rpb24oe30sIHtcblx0XHRcdGRyYWdnYWJsZTogZmFsc2UsXG5cdFx0XHRpY29uTGF5b3V0OiAnZGVmYXVsdCNpbWFnZScsXG5cdFx0XHRpY29uSW1hZ2VIcmVmOiBcIi4vaW1nL21hcC1tYXJrZXIucG5nXCIsXG5cdFx0XHRpY29uSW1hZ2VTaXplOiBbMzAsIDQyXSxcblx0XHRcdGljb25JbWFnZU9mZnNldDogWy0zLCAtNDJdXG5cdFx0fSk7XG5cdFxuXHRcdGNvb3Jkcy5mb3JFYWNoKGNvb3JkID0+IHtcblx0XHRcdG15Q29sbGVjdGlvbi5hZGQobmV3IHltYXBzLlBsYWNlbWFyayhjb29yZCkpO1xuXHRcdH0pO1xuXHRcblx0XHRteU1hcC5nZW9PYmplY3RzLmFkZChteUNvbGxlY3Rpb24pO1xuXHRcblx0fSBcblx0XG5cdHltYXBzLnJlYWR5KGluaXQpO1xuXHRcbn0pKCkiLCI7KGZ1bmN0aW9uKCkge1xuXHRjb25zdCB2YWxpZGF0ZUZpZWxkcyA9IChmb3JtLCBmaWVsZHNBcnJheSkgPT4ge1xuXG5cdFx0ZmllbGRzQXJyYXkuZm9yRWFjaChmaWVsZCA9PiB7XG5cdFx0XHRmaWVsZC5yZW1vdmVDbGFzcyhcImlucHV0LWVycm9yXCIpXG5cdFx0XHRpZiAoZmllbGQudmFsKCkudHJpbSgpID09PSBcIlwiKSB7XG5cdFx0XHRcdGZpZWxkLmFkZENsYXNzKFwiaW5wdXQtZXJyb3JcIilcblx0XHRcdH1cblx0XHRcdFxuXHRcdH0pO1xuXHRcblx0XHRjb25zdCBlcnJvckZpZWxkcyA9IGZvcm0uZmluZChcIi5pbnB1dC1lcnJvclwiKTtcblx0XG5cdFx0cmV0dXJuIGVycm9yRmllbGRzLmxlbmd0aCA9PT0gMDtcblx0XG5cdH1cblx0XG5cdCQoJyNmb3JtJykuc3VibWl0KGUgPT4ge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XG5cdFx0Y29uc3QgZm9ybSA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblx0XHRjb25zdCBuYW1lID0gZm9ybS5maW5kKFwiW25hbWU9J25hbWUnXVwiKTtcblx0XHRjb25zdCBwaG9uZSA9IGZvcm0uZmluZChcIltuYW1lPSdwaG9uZSddXCIpO1xuXHRcdGNvbnN0IGNvbW1lbnQgPSBmb3JtLmZpbmQoXCJbbmFtZT0nY29tbWVudCddXCIpO1xuXHRcdGNvbnN0IHRvID0gZm9ybS5maW5kKFwiW25hbWU9J3RvJ11cIik7XG5cdFxuXHRcdGNvbnN0IG1vZGFsID0gJChcIiNtb2RhbFwiKTtcblx0XHRjb25zdCBjb250ZW50ID0gbW9kYWwuZmluZChcIi5tb2RhbF9fY29udGVudFwiKTtcblx0XG5cdFx0bW9kYWwucmVtb3ZlQ2xhc3MoXCJlcnJvci1tb2RhbFwiKTtcblx0XG5cdFx0Y29uc3QgaXNWYWxpZCA9IHZhbGlkYXRlRmllbGRzKGZvcm0sIFtjb21tZW50LCBuYW1lLCBwaG9uZSwgIHRvXSk7XG5cdFxuXHRcdGlmIChpc1ZhbGlkKSB7XG5cdFx0XHQkLmFqYXgoe1xuXHRcdFx0XHR1cmw6IFwiaHR0cHM6Ly93ZWJkZXYtYXBpLmxvZnRzY2hvb2wuY29tL3NlbmRtYWlsXCIsXG5cdFx0XHRcdG1ldGhvZDogXCJwb3N0XCIsXG5cdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0bmFtZTogbmFtZS52YWwoKSxcblx0XHRcdFx0cGhvbmU6IHBob25lLnZhbCgpLFxuXHRcdFx0XHRjb21tZW50OiBjb21tZW50LnZhbCgpLFxuXHRcdFx0XHR0bzogdG8udmFsKCksXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHN1Y2Nlc3M6IChkYXRhKSA9PiB7XG5cdFx0XHRcdFx0Y29udGVudC50ZXh0KGRhdGEubWVzc2FnZSlcblx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyhkYXRhKTtcblx0XHRcdFx0XHQkLmZhbmN5Ym94Lm9wZW4oe1xuXHRcdFx0XHRcdFx0c3JjOiAnI21vZGFsJyxcblx0XHRcdFx0XHRcdHR5cGU6IFwiaW5saW5lXCJcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSxcblx0XHRcdFx0ZXJyb3I6IGRhdGEgPT4ge1xuXHRcdFx0XHRcdC8vIGNvbnN0IG1lc3NhZ2UgPSBkYXRhLnJlc3BvbnNlSlNPTi5tZXNzYWVnXG5cdFx0XHRcdFx0Ly8gY29udGVudC50ZXh0KG1lc3NhZ2UpO1xuXHRcdFx0XHRcdC8vIG1vZGFsLmFkZENsYXNzKFwiZXJyb3ItbW9kYWxcIik7XG5cdFx0XHRcdFx0Y29udGVudC50ZXh0KCfQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwLCDQv9C+0L/RgNC+0LHRg9C50YLQtSDRgdC90L7QstCwJylcblx0XG5cdFx0XHRcdFx0JC5mYW5jeWJveC5vcGVuKHtcblx0XHRcdFx0XHRcdHNyYzogJyNtb2RhbCcsXG5cdFx0XHRcdFx0XHR0eXBlOiBcImlubGluZVwiXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0XG5cdH0pOyBcblx0XG5cdCQoXCIuYXBwLXN1Ym1pdC1idG5cIikuY2xpY2soIGUgPT4ge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XG5cdFx0JC5mYW5jeWJveC5jbG9zZSgpO1xuXHR9KVxuXHRcbn0pKCkiLCI7KGZ1bmN0aW9uKCkge1xuXHRjb25zdCBzZWN0aW9ucyA9ICQoXCJzZWN0aW9uXCIpO1xuXHRjb25zdCBkaXNwbGF5ID0gJChcIi5tYWluLWNvbnRlbnRcIik7XG5cdGNvbnN0IHNpZGVNZW51ID0gJChcIi5maXhlZC1tZW51XCIpO1xuXHRjb25zdCBtZW51SXRlbXMgPSBzaWRlTWVudS5maW5kKFwiZml4ZWQtbWVudV9faXRlbVwiKTtcblxuXHRcblx0bGV0IGluU2Nyb2xsID0gZmFsc2U7XG5cdFxuXHRzZWN0aW9ucy5maXJzdCgpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuXHRcblx0Y29uc3QgY291bnRTZWN0aW9uUG9zaXRpb24gPSBzZWN0aW9uc0VxID0+IHtcblx0XHRyZXR1cm4gc2VjdGlvbnNFcSAqIC0xMDA7XG5cdH1cblx0XG5cdGNvbnN0IHJlc2V0QWN0aXZlQ2xhc3NGb3JJdGVtID0gKGl0ZW0sIGl0ZW1FcSwgYWN0aXZlQ2xhc3MpID0+IHtcblx0XHRpdGVtLmVxKGl0ZW1FcSkuYWRkQ2xhc3MoYWN0aXZlQ2xhc3MpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoYWN0aXZlQ2xhc3MpO1xuXHR9XG5cdFxuXHRjb25zdCBwZXJmb3JtVHJhbnNpdGlvbiA9IHNlY3Rpb25zRXEgPT4ge1xuXHRcblx0XHRpZiAoaW5TY3JvbGwgPT0gZmFsc2UpIHtcblx0XHRcdFxuXHRcdFx0aW5TY3JvbGwgPSB0cnVlO1xuXHRcdFx0Y29uc3QgcG9zaXRpb24gPSBjb3VudFNlY3Rpb25Qb3NpdGlvbihzZWN0aW9uc0VxKTtcblx0XG5cdFxuXHRcblx0XHRcdGRpc3BsYXkuY3NzKHtcblx0XHRcdFx0dHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgke3Bvc2l0aW9ufSUpYFxuXHRcdFx0fSk7XG5cdFxuXHRcdFx0cmVzZXRBY3RpdmVDbGFzc0Zvckl0ZW0oc2VjdGlvbnMsIHNlY3Rpb25zRXEsIFwiYWN0aXZlXCIpO1xuXHRcdFx0Ly8gc2VjdGlvbnMuZXEoc2VjdGlvbnNFcSkuYWRkQ2xhc3MoXCJhY3RpdmVcIikuc2libGluZ3MoKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcdFxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdGluU2Nyb2xsID0gZmFsc2U7XG5cdFxuXHRcdFx0XHRyZXNldEFjdGl2ZUNsYXNzRm9ySXRlbShtZW51SXRlbXMsIHNlY3Rpb25zRXEsIFwiZml4ZWQtbWVudV9faXRlbS0tYWN0aXZlXCIpO1xuXHRcblx0XHRcdFx0c2lkZU1lbnUuZmluZChcIi5maXhlZC1tZW51X19pdGVtXCIpLmVxKHNlY3Rpb25zRXEpLmFkZENsYXNzKFwiZml4ZWQtbWVudV9faXRlbS0tYWN0aXZlXCIpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoXCJmaXhlZC1tZW51X19pdGVtLS1hY3RpdmVcIik7XG5cdFxuXHRcdFx0fSwgMTMwMCk7XG5cdFx0fVxuXHR9XG5cdFxuXHRjb25zdCBzY3JvbGxWaWV3cG9ydCA9IGRpcmVjdGlvbiA9PiB7XG5cdFx0Y29uc3QgYWN0aXZlU2VjdGlvbiA9IHNlY3Rpb25zLmZpbHRlcihcIi5hY3RpdmVcIik7XG5cdFx0Y29uc3QgbmV4dFNlY3Rpb24gPSBhY3RpdmVTZWN0aW9uLm5leHQoKTtcblx0XHRjb25zdCBwcmV2U2VjdGlvbiA9IGFjdGl2ZVNlY3Rpb24ucHJldigpO1xuXHRcblx0XG5cdFx0aWYgKGRpcmVjdGlvbiA9PSBcIm5leHRcIiAgJiYgbmV4dFNlY3Rpb24ubGVuZ3RoKSB7XG5cdFx0XHRwZXJmb3JtVHJhbnNpdGlvbihuZXh0U2VjdGlvbi5pbmRleCgpKVxuXHRcdH1cblx0XG5cdFx0aWYgKGRpcmVjdGlvbiA9PSBcInByZXZcIiAgJiYgcHJldlNlY3Rpb24ubGVuZ3RoKSB7XG5cdFx0XHRwZXJmb3JtVHJhbnNpdGlvbihwcmV2U2VjdGlvbi5pbmRleCgpKVxuXHRcdH1cblx0fVxuXHRcblx0JCh3aW5kb3cpLm9uKFwid2hlZWxcIiwgZSA9PiB7XG5cdFx0Y29uc3QgZGVsdGFZID0gZS5vcmlnaW5hbEV2ZW50LmRlbHRhWTtcblx0XG5cdFx0aWYgKGRlbHRhWSA+IDApIHtcblx0XHRcdHNjcm9sbFZpZXdwb3J0KFwibmV4dFwiKTtcblx0XHR9XG5cdFxuXHRcdGlmIChkZWx0YVkgPCAwKSB7XG5cdFx0XHRzY3JvbGxWaWV3cG9ydChcInByZXZcIik7XG5cdFx0fVxuXHR9KTtcblx0XG5cdCQod2luZG93KS5vbihcImtleWRvd25cIiwgZSA9PiB7XG5cdFx0XG5cdFx0Y29uc3QgdGFnTmFtZSA9IGUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcblx0XG5cdFx0aWYgKHRhZ05hbWUgIT09IFwiaW5wdXRcIiAmJiB0YWdOYW1lICE9PSBcInRleHRhcmVhXCIpIHtcblx0XHRcdHN3aXRjaCAoZS5rZXlDb2RlKSB7XG5cdFx0XHRcdGNhc2UgMzg6XG5cdFx0XHRcdFx0c2Nyb2xsVmlld3BvcnQoXCJwcmV2XCIpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFxuXHRcdFx0XHRjYXNlIDQwOlxuXHRcdFx0XHRcdHNjcm9sbFZpZXdwb3J0KFwibmV4dFwiKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdH0pO1xuXG5cdCQoXCIud3JhcHBlclwiKS5vbihcInRvdWNoZW1vdmVcIiwgZSA9PiBlLnByZXZlbnREZWZhdWx0KCkpO1xuXHRcblx0JChcIltkYXRhLXNjcm9sbC10b11cIikuY2xpY2soZSA9PiB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcblx0XHRjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblx0XHRjb25zdCB0YXJnZXQgPSAkdGhpcy5hdHRyKFwiZGF0YS1zY3JvbGwtdG9cIik7XG5cdFx0Y29uc3QgcmVxU2VjdGlvbiA9ICQoYFtkYXRhLXNlY3Rpb24taWQ9JHt0YXJnZXR9XWApO1xuXHRcblx0XHRwZXJmb3JtVHJhbnNpdGlvbihyZXFTZWN0aW9uLmluZGV4KCkpO1xuXHRcblx0XHRjb25zb2xlLmxvZyhyZXFTZWN0aW9uLmluZGV4KCkpXG5cdH0pO1xuXG5cdGNvbnN0IG1vYmlsZURldGVjdCA9IG5ldyBNb2JpbGVEZXRlY3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xuXHRjb25zdCBpc01vYmlsZSA9IG1vYmlsZURldGVjdC5tb2JpbGUoKTtcblxuXHRpZiAoaXNNb2JpbGUpIHtcblx0XHQkKFwiYm9keVwiKS5zd2lwZSh7XG5cdFx0c3dpcGU6ZnVuY3Rpb24oZXZlbnQsIGRpcmVjdGlvbiwpIHtcblx0XG5cdFx0XHRpZiAoZGlyZWN0aW9uID09ICd1cCcpIHtcblx0XHRcdFx0c2Nyb2xsVmlld3BvcnQoJ25leHQnKVxuXHRcdFx0fSBcblx0XHRcdFx0XG5cdFx0XHRpZiAoZGlyZWN0aW9uID09ICdkb3duJykge1xuXHRcdFx0XHRzY3JvbGxWaWV3cG9ydCgncHJldicpXG5cdFx0XHR9XG5cdFx0fVxuXHR9KX07XG5cblx0Ly8gaWYoaXNNb2JpbGUpIHtcblx0Ly8gXHQkKFwiYm9keVwiKS5zd2lwZSgge1xuXHQvLyBcdFx0c3dpcGU6ZnVuY3Rpb24oZXZlbnQsIGRpcmVjdGlvbiwpIHtcblx0Ly8gXHRcdFx0Y29uc3Qgc2Nyb2xsZXIgPSB2aWV3cG9ydFNjcm9sbGVyKCk7XG5cdC8vIFx0XHRcdGxldCBzY3JvbGxEaXJlY3Rpb24gPSBcIlwiO1xuXG5cdC8vIFx0XHRcdGlmKGRpcmVjdGlvbiA9PT0gXCJ1cFwiKSBzY3JvbGxEaXJlY3Rpb24gPSBcIm5leHRcIlxuXHQvLyBcdFx0XHRpZihkaXJlY3Rpb24gPT09IFwiZG93blwiKSBzY3JvbGxEaXJlY3Rpb24gPSBcInByZXZcIlxuXG5cdC8vIFx0XHRcdHNjcm9sbGVyW3Njcm9sbERpcmVjdGlvbl0oKTtcblx0Ly8gXHRcdH0sXG5cdC8vIFx0fSlcblx0Ly8gfVxuXHRcbn0pKClcbiIsIlxubGV0IHBsYXllcjtcbmNvbnN0IHBsYXllckNvbnRhaW5lciA9ICQoXCIucGxheWVyXCIpO1xuXG5sZXQgaXZlbnRzSW5pdCA9ICgpID0+IHtcblx0JChcIi5wbGF5ZXJfX3N0YXJ0XCIpLmNsaWNrKGUgPT4ge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdGlmIChwbGF5ZXJDb250YWluZXIuaGFzQ2xhc3MoXCJwYXVzZWRcIikpIHtcblx0XHRcdFxuXHRcdFx0cGxheWVyLnBhdXNlVmlkZW8oKVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRcblx0XHRcdHBsYXllci5wbGF5VmlkZW8oKVxuXHRcdH1cblx0XHRcblx0fSk7XG5cblx0JChcIi5wbGF5ZXJfX3BsYXliYWNrXCIpLmNsaWNrKGUgPT4ge1xuXHRcdGNvbnN0IGJhciA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblx0XHRjb25zdCBjbGlja2VkUG9zaXRpb24gPSAgZS5vcmlnaW5hbEV2ZW50LmxheWVyWDtcblx0XHRjb25zdCBuZXdCdXR0b25Qb3NpdGlvblBlcmNlbnQgPSAoY2xpY2tlZFBvc2l0aW9uIC8gYmFyLndpZHRoKCkpICogMTAwO1xuXHRcdGNvbnN0IG5ld1BsYXllckJhY2tQb3NpdGlvblNlYyA9IChwbGF5ZXIuZ2V0RHVyYXRpb24oKSAvIDEwMCkgKiBuZXdCdXR0b25Qb3NpdGlvblBlcmNlbnQ7XG5cblxuXHRcdCQoXCIucGxheWVyX19wbGF5YmFjay1idXR0b25cIikuY3NzKHtcblx0XHRcdGxlZnQ6IGAke25ld0J1dHRvblBvc2l0aW9uUGVyY2VudH0lYFxuXHRcdH0pO1xuXG5cdFx0cGxheWVyLnNlZWtUbyhuZXdQbGF5ZXJCYWNrUG9zaXRpb25TZWMpO1xuXG5cdH0pO1xuXG5cdCQoXCIucGxheWVyX19zcGxhc2hcIikuY2xpY2soZSA9PiB7XG5cdFx0cGxheWVyLnBsYXlWaWRlbygpO1xuXHR9KVxuXG59O1xuXG5jb25zdCBmb3JtYXRUaW1lID0gdGltZVNlYyA9PiB7XG5cdGNvbnN0IHJvdW5kVGltZSA9IE1hdGgucm91bmQodGltZVNlYyk7XG5cblx0Y29uc3QgbWludXRlcyA9IGFkZFplcm8oTWF0aC5mbG9vcihyb3VuZFRpbWUgLyA2MCkpO1xuXHRjb25zdCBzZWNvbmRzID0gYWRkWmVybyhyb3VuZFRpbWUgLSBtaW51dGVzICogNjApO1xuXG5cdGZ1bmN0aW9uIGFkZFplcm8obnVtKSB7XG5cdFx0cmV0dXJuIG51bSA8IDEwID8gYDAke251bX1gIDogbnVtO1xuXHRcdH1cblxuXHRyZXR1cm4gYCR7bWludXRlc30gOiAke3NlY29uZHN9YFxufVxuXG5jb25zdCBvblBsYXllclJlYWR5ID0gKCkgPT4ge1xuXHRsZXQgaW50ZXJ2YWw7XG5cdGNvbnN0IGR1cmF0aW9uU2VjID0gcGxheWVyLmdldER1cmF0aW9uKCk7XG5cblx0JChcIi5wbGF5ZXJfX2R1cmF0aW9uLWVzdGltYXRlXCIpLnRleHQoZm9ybWF0VGltZShkdXJhdGlvblNlYykpO1xuXG5cdGlmICh0eXBlb2YgaW50ZXJ2YWwgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0Y2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG5cdH1cblxuXHRpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcblx0XHRjb25zdCBjb21wbGV0ZWRTZWMgPSBwbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKTtcblx0XHRjb25zdCBjb21wbGl0ZWRQZXJjZW50ID0gKGNvbXBsZXRlZFNlYyAvIGR1cmF0aW9uU2VjKSAqIDEwMDtcblxuXHRcdCQoXCIucGxheWVyX19wbGF5YmFjay1idXR0b25cIikuY3NzKHtcblx0XHRcdGxlZnQ6IGAke2NvbXBsaXRlZFBlcmNlbnR9JWBcblx0XHR9KTtcblxuXHRcdCQoXCIucGxheWVyX19kdXJhdGlvbi1jb21wbGV0ZWRcIikudGV4dChmb3JtYXRUaW1lKGNvbXBsZXRlZFNlYykpO1xuXG5cdH0sIDEwMDApO1xufVxuXG5jb25zdCBvblBsYXllclN0YXRlQ2hhbmdlID0gZXZlbnQgPT4ge1xuXHRzd2l0Y2ggKGV2ZW50LmRhdGEpIHtcblx0XHRjYXNlIDE6XG5cdFx0XHRwbGF5ZXJDb250YWluZXIuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG5cdFx0XHRwbGF5ZXJDb250YWluZXIuYWRkQ2xhc3MoXCJwYXVzZWRcIik7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgMjpcblx0XHRcdHBsYXllckNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcblx0XHRcdHBsYXllckNvbnRhaW5lci5yZW1vdmVDbGFzcyhcInBhdXNlZFwiKTtcblx0XHRcdGJyZWFrO1xuXG5cdH1cbn07XG5cbmZ1bmN0aW9uIG9uWW91VHViZUlmcmFtZUFQSVJlYWR5KCkge1xuXHRjb25zb2xlLmxvZygnb25Zb3VUdWJlSWZyYW1lQVBJUmVhZHknKTtcblxuXHRwbGF5ZXIgPSBuZXcgWVQuUGxheWVyKCd5dC1wbGF5ZXInLCB7XG5cdFx0aGVpZ2h0OiAnNDA1Jyxcblx0XHR3aWR0aDogJzY2MCcsXG5cdFx0dmlkZW9JZDogJ2hrM0tQYTZ6V3pvJyxcblx0XHRwbGF5ZXJWYXJzOiB7XG5cdFx0XHQncGxheXNpbmxpbmUnOiAxXG5cdFx0fSxcblx0XHRldmVudHM6IHtcblx0XHRcdCdvblJlYWR5Jzogb25QbGF5ZXJSZWFkeSxcblx0XHRcdCdvblN0YXRlQ2hhbmdlJzogb25QbGF5ZXJTdGF0ZUNoYW5nZVxuXHRcdH0sXG5cdFx0cGxheWVyVmFyczoge1xuXHRcdFx0Y29udHJvbHM6IDAsXG5cdFx0XHRkaXNhYmxla2I6IDAsXG5cdFx0XHRzaG93aW5mbzogMCxcblx0XHRcdHJlbDogMCxcblx0XHRcdGF1dG9wbGF5OiAwLFxuXHRcdFx0bW9kZXN0YnJhbmRpbmc6IDAsXG5cblx0XHR9XG5cdH0pO1xufVxuXG5pdmVudHNJbml0ICgpO1xuXG4vLyA7KGZ1bmN0aW9uKCkge1xuXG4vLyB9KSgpIiwiOyhmdW5jdGlvbigpIHtcblx0Y29uc3QgZmluZEJsb2NrQnlBbGlhcyA9IGFsaWFzID0+IHtcblx0XHRyZXR1cm4gJChcIi5yZXZpZXdzX19pdGVtXCIpLmZpbHRlcigobmR4LCBpdGVtKSA9PiB7XG5cdFx0XHRyZXR1cm4gJChpdGVtKS5hdHRyKFwiZGF0YS1saW5rZWQtd2l0aFwiKSA9PSBhbGlhc1xuXHRcdH0pO1xuXHR9O1xuXHRcblx0JChcIi5pbnRlcmFjdGl2ZS1hdmF0YXJfX2xpbmtcIikuY2xpY2soKGUpID0+IHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHRcdGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXHRcdGNvbnN0IHRhcmdldCA9ICR0aGlzLmF0dHIoXCJkYXRhLW9wZW5cIik7XG5cdFx0Y29uc3QgaXRlbVRvU2hvdyA9IGZpbmRCbG9ja0J5QWxpYXModGFyZ2V0KTtcblx0XHRjb25zdCBjdXJJdGVtID0gJHRoaXMgLmNsb3Nlc3QoXCIucmV2aWV3c19fc3dpdGNoZXItaXRlbVwiKTtcblx0XG5cdFx0aXRlbVRvU2hvdy5hZGRDbGFzcyhcImFjdGl2ZVwiKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuXHRcdGN1ckl0ZW0uYWRkQ2xhc3MoXCJhY3RpdmVcIikuc2libGluZ3MoKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcblx0XG5cdH0pO1xuXHRcbn0pKCkiLCI7KGZ1bmN0aW9uKCkge1xuXHRjb25zdCBsZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhcnJvdy0tcHJld1wiKTtcblx0Y29uc3QgcmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Fycm93LS1uZXh0XCIpO1xuXHRjb25zdCBpdGVtTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc2xpZGVyX19saXN0XCIpXG5cdFxuXHRjb25zdCBsb29wID0gKGRpcmVjdGlvbiwgZSkgPT4ge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XG5cdFx0aWYgKGRpcmVjdGlvbiA9PSBcInJpZ2h0XCIgKSB7XG5cdFx0XHRpdGVtTGlzdC5hcHBlbmRDaGlsZChpdGVtTGlzdC5maXJzdEVsZW1lbnRDaGlsZCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGl0ZW1MaXN0Lmluc2VydEJlZm9yZShpdGVtTGlzdC5sYXN0RWxlbWVudENoaWxkLCBzbGlkZXJfX2xpc3QuZmlyc3RFbGVtZW50Q2hpbGQpO1xuXHRcdH1cblx0fVxuXHRcblx0cmlnaHQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xuXHRcdGxvb3AgKFwicmlnaHRcIiwgZSlcblx0fSlcblx0XG5cdGxlZnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xuXHRcdGxvb3AgKFwibGVmdFwiLCBlKVxuXHR9KVxufSkoKSIsIjsoZnVuY3Rpb24oKSB7XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFRFQU1cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5jb25zdCBvcGVuSXRlbSA9IGl0ZW0gPT4ge1xuXHRjb25zdCBjb250YWluZXIgPSBpdGVtLmNsb3Nlc3QoXCIudGVhbV9faXRlbVwiKTtcblx0Y29uc3QgY29udGVudEJsb2NrID0gY29udGFpbmVyLmZpbmQoXCIudGVhbV9fY29udGVudFwiKTtcblx0Y29uc3QgdGV4dEJsb2NrID0gY29udGVudEJsb2NrLmZpbmQoXCIudGVhbV9fY29udGVudC1ibG9ja1wiKTtcblx0Y29uc3QgcmVxSGVpZ2h0ID0gdGV4dEJsb2NrLmhlaWdodCgpO1xuXG5cblx0Y29udGFpbmVyLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuXHRjb250ZW50QmxvY2suaGVpZ2h0KHJlcUhlaWdodCk7XG5cdFxufVxuXG5jb25zdCBjbG9zZUV2ZXJ5SXRlbSA9IGNvbnRhaW5lciA9PiB7XG5cdGNvbnN0IGl0ZW1zID0gY29udGFpbmVyLmZpbmQoXCIudGVhbV9fY29udGVudFwiKTtcblx0Y29uc3QgaXRlbUNvbnRhaW5lciA9IGNvbnRhaW5lci5maW5kKFwiLnRlYW1fX2l0ZW1cIik7XG5cblx0aXRlbUNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcblx0aXRlbXMuaGVpZ2h0KDApO1xufVxuXG4kKFwiLnRlYW1fX3RpbHRsZVwiKS5jbGljayhlID0+e1xuXHRjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblx0Y29uc3QgY29udGFpbmVyID0gJHRoaXMuY2xvc2VzdChcIi50ZWFtXCIpXG5cdGNvbnN0IGVsZW1Db250YWluZXIgPSAkdGhpcy5jbG9zZXN0KFwiLnRlYW1fX2l0ZW1cIik7XG5cblxuXHRpZiAoZWxlbUNvbnRhaW5lci5oYXNDbGFzcyhcImFjdGl2ZVwiKSkge1xuXHRcdGNsb3NlRXZlcnlJdGVtKGNvbnRhaW5lcik7XG5cdH0gZWxzZSB7XG5cdFx0Y2xvc2VFdmVyeUl0ZW0oY29udGFpbmVyKTtcblx0XHRvcGVuSXRlbSgkdGhpcyk7XG5cdH1cblxuXG59KTtcblxufSkoKSJdfQ==
